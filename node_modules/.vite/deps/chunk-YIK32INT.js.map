{
  "version": 3,
  "sources": ["../../rubiks-js/src/state/corners.js", "../../rubiks-js/src/state/edges.js", "../../rubiks-js/src/math/utils.js", "../../rubiks-js/src/state/centers.js", "../../rubiks-js/src/converter.js", "../../rubiks-js/src/ui/uvs.js", "../../rubiks-js/src/state/index.js"],
  "sourcesContent": ["import {createSideToUvs, transformSidetoUvs, setUvs} from '.'\r\n\r\n/**\r\n * @typedef {import('./types').TurnBase} TurnBase\r\n * @typedef {import('./types').Turn} Turn\r\n * @typedef {import('./types').Corner} C\r\n * @typedef {import('./types').CornerOrientation} CO\r\n * @typedef {[C, C, C, C, C, C, C, C]} Permutation\r\n * @typedef {[CO, CO, CO, CO, CO, CO, CO, CO]} Orientation\r\n */\r\n\r\n/** @satisfies {Record<TurnBase, Permutation>} */\r\nconst permutations = {\r\n  R: ['DRF', 'ULF', 'ULB', 'URF', 'DRB', 'DLF', 'DLB', 'URB'],\r\n  L: ['URF', 'ULB', 'DLB', 'URB', 'DRF', 'ULF', 'DLF', 'DRB'],\r\n  U: ['URB', 'URF', 'ULF', 'ULB', 'DRF', 'DLF', 'DLB', 'DRB'],\r\n  D: ['URF', 'ULF', 'ULB', 'URB', 'DLF', 'DLB', 'DRB', 'DRF'],\r\n  F: ['ULF', 'DLF', 'ULB', 'URB', 'URF', 'DRF', 'DLB', 'DRB'],\r\n  B: ['URF', 'ULF', 'URB', 'DRB', 'DRF', 'DLF', 'ULB', 'DLB']\r\n}\r\n\r\n/** @satisfies {Record<TurnBase, Orientation>} */\r\nconst orientations = {\r\n  R: [2, 0, 0, 1, 1, 0, 0, 2],\r\n  L: [0, 1, 2, 0, 0, 2, 1, 0],\r\n  U: [0, 0, 0, 0, 0, 0, 0, 0],\r\n  D: [0, 0, 0, 0, 0, 0, 0, 0],\r\n  F: [1, 2, 0, 0, 2, 1, 0, 0],\r\n  B: [0, 0, 1, 2, 0, 0, 2, 1]\r\n}\r\n\r\n/** @satisfies {Record<C, Record<C, Record<CO, Turn[]>>>} */\r\nconst map = {\r\n  URF: {\r\n    URF: {\r\n      0: [],\r\n      1: ['R', 'U'],\r\n      2: ['F\\'', 'U\\'']\r\n    },\r\n    ULF: {\r\n      0: ['U'],\r\n      1: ['R', 'U2'],\r\n      2: ['F\\'']\r\n    },\r\n    ULB: {\r\n      0: ['U2'],\r\n      1: ['R', 'U\\''],\r\n      2: ['F\\'', 'U']\r\n    },\r\n    URB: {\r\n      0: ['U\\''],\r\n      1: ['R'],\r\n      2: ['F\\'', 'U2']\r\n    },\r\n    DRF: {\r\n      0: ['R2', 'D\\''],\r\n      1: ['R\\''],\r\n      2: ['F']\r\n    },\r\n    DLF: {\r\n      0: ['F2'],\r\n      1: ['R\\'', 'D\\''],\r\n      2: ['F', 'D\\'']\r\n    },\r\n    DLB: {\r\n      0: ['R2', 'D'],\r\n      1: ['R\\'', 'D2'],\r\n      2: ['F', 'D2']\r\n    },\r\n    DRB: {\r\n      0: ['R2'],\r\n      1: ['R\\'', 'D'],\r\n      2: ['F', 'D']\r\n    }\r\n  },\r\n  ULF: {\r\n    URF: {\r\n      0: ['U\\''],\r\n      1: ['F'],\r\n      2: ['L\\'', 'U2']\r\n    },\r\n    ULF: {\r\n      0: [],\r\n      1: ['F', 'U'],\r\n      2: ['L\\'', 'U\\'']\r\n    },\r\n    ULB: {\r\n      0: ['U'],\r\n      1: ['F', 'U2'],\r\n      2: ['L\\'']\r\n    },\r\n    URB: {\r\n      0: ['U2'],\r\n      1: ['F', 'U\\''],\r\n      2: ['L\\'', 'U']\r\n    },\r\n    DRF: {\r\n      0: ['F2'],\r\n      1: ['F\\'', 'D'],\r\n      2: ['L', 'D']\r\n    },\r\n    DLF: {\r\n      0: ['L2', 'D'],\r\n      1: ['F\\''],\r\n      2: ['L']\r\n    },\r\n    DLB: {\r\n      0: ['L2'],\r\n      1: ['F\\'', 'D\\''],\r\n      2: ['L', 'D\\'']\r\n    },\r\n    DRB: {\r\n      0: ['L2', 'D\\''],\r\n      1: ['F\\'', 'D2'],\r\n      2: ['L', 'D2']\r\n    }\r\n  },\r\n  ULB: {\r\n    URF: {\r\n      0: ['U2'],\r\n      1: ['L', 'U\\''],\r\n      2: ['B\\'', 'U']\r\n    },\r\n    ULF: {\r\n      0: ['U\\''],\r\n      1: ['L'],\r\n      2: ['B\\'', 'U2']\r\n    },\r\n    ULB: {\r\n      0: [],\r\n      1: ['L', 'U'],\r\n      2: ['B\\'', 'U\\'']\r\n    },\r\n    URB: {\r\n      0: ['U'],\r\n      1: ['L', 'U2'],\r\n      2: ['B\\'']\r\n    },\r\n    DRF: {\r\n      0: ['L2', 'D'],\r\n      1: ['L\\'', 'D2'],\r\n      2: ['B', 'D2']\r\n    },\r\n    DLF: {\r\n      0: ['L2'],\r\n      1: ['L\\'', 'D'],\r\n      2: ['B', 'D']\r\n    },\r\n    DLB: {\r\n      0: ['L2', 'D'],\r\n      1: ['L\\''],\r\n      2: ['B']\r\n    },\r\n    DRB: {\r\n      0: ['B2'],\r\n      1: ['L\\'', 'D\\''],\r\n      2: ['B', 'D\\'']\r\n    }\r\n  },\r\n  URB: {\r\n    URF: {\r\n      0: ['U'],\r\n      1: ['B', 'U2'],\r\n      2: ['R\\'']\r\n    },\r\n    ULF: {\r\n      0: ['U2'],\r\n      1: ['B', 'U\\''],\r\n      2: ['R\\'', 'U']\r\n    },\r\n    ULB: {\r\n      0: ['U\\''],\r\n      1: ['B'],\r\n      2: ['R\\'', 'U2']\r\n    },\r\n    URB: {\r\n      0: [],\r\n      1: ['B', 'U'],\r\n      2: ['R\\'', 'U\\'']\r\n    },\r\n    DRF: {\r\n      0: ['R2'],\r\n      1: ['B\\'', 'D\\''],\r\n      2: ['R', 'D\\'']\r\n    },\r\n    DLF: {\r\n      0: ['R2', 'D\\''],\r\n      1: ['B\\'', 'D2'],\r\n      2: ['R', 'D2']\r\n    },\r\n    DLB: {\r\n      0: ['B2'],\r\n      1: ['B\\'', 'D'],\r\n      2: ['R', 'D']\r\n    },\r\n    DRB: {\r\n      0: ['R2', 'D'],\r\n      1: ['B\\''],\r\n      2: ['R']\r\n    }\r\n  },\r\n  DRF: {\r\n    URF: {\r\n      0: ['R2', 'U'],\r\n      1: ['F\\''],\r\n      2: ['R']\r\n    },\r\n    ULF: {\r\n      0: ['F2'],\r\n      1: ['F\\'', 'U'],\r\n      2: ['R', 'U']\r\n    },\r\n    ULB: {\r\n      0: ['R2', 'U\\''],\r\n      1: ['F\\'', 'U2'],\r\n      2: ['R', 'U2']\r\n    },\r\n    URB: {\r\n      0: ['R2'],\r\n      1: ['F\\'', 'U\\''],\r\n      2: ['R', 'U\\'']\r\n    },\r\n    DRF: {\r\n      0: [],\r\n      1: ['F', 'D'],\r\n      2: ['R\\'', 'D\\'']\r\n    },\r\n    DLF: {\r\n      0: ['D\\''],\r\n      1: ['F'],\r\n      2: ['R\\'', 'D2']\r\n    },\r\n    DLB: {\r\n      0: ['D2'],\r\n      1: ['F', 'D\\''],\r\n      2: ['R\\'', 'D']\r\n    },\r\n    DRB: {\r\n      0: ['D'],\r\n      1: ['F', 'D2'],\r\n      2: ['R\\'']\r\n    }\r\n  },\r\n  DLF: {\r\n    URF: {\r\n      0: ['F2'],\r\n      1: ['L\\'', 'U\\''],\r\n      2: ['F', 'U\\'']\r\n    },\r\n    ULF: {\r\n      0: ['L2', 'U\\''],\r\n      1: ['L\\''],\r\n      2: ['F']\r\n    },\r\n    ULB: {\r\n      0: ['L2'],\r\n      1: ['L\\'', 'U'],\r\n      2: ['F', 'U']\r\n    },\r\n    URB: {\r\n      0: ['L2', 'U'],\r\n      1: ['L\\'', 'U2'],\r\n      2: ['F', 'U2']\r\n    },\r\n    DRF: {\r\n      0: ['D'],\r\n      1: ['L', 'D2'],\r\n      2: ['F\\'']\r\n    },\r\n    DLF: {\r\n      0: [],\r\n      1: ['L', 'D'],\r\n      2: ['F\\'', 'D\\'']\r\n    },\r\n    DLB: {\r\n      0: ['D\\''],\r\n      1: ['L'],\r\n      2: ['F\\'', 'D2']\r\n    },\r\n    DRB: {\r\n      0: ['D2'],\r\n      1: ['L', 'D\\''],\r\n      2: ['F\\'', 'D']\r\n    }\r\n  },\r\n  DLB: {\r\n    URF: {\r\n      0: ['L2', 'U\\''],\r\n      1: ['B\\'', 'U2'],\r\n      2: ['L', 'U2']\r\n    },\r\n    ULF: {\r\n      0: ['L2'],\r\n      1: ['B\\'', 'U\\''],\r\n      2: ['L', 'U\\'']\r\n    },\r\n    ULB: {\r\n      0: ['L2', 'U'],\r\n      1: ['B\\''],\r\n      2: ['L']\r\n    },\r\n    URB: {\r\n      0: ['B2'],\r\n      1: ['B\\'', 'U'],\r\n      2: ['L', 'U']\r\n    },\r\n    DRF: {\r\n      0: ['D2'],\r\n      1: ['B', 'D\\''],\r\n      2: ['L\\'', 'D']\r\n    },\r\n    DLF: {\r\n      0: ['D'],\r\n      1: ['B', 'D2'],\r\n      2: ['L\\'']\r\n    },\r\n    DLB: {\r\n      0: [],\r\n      1: ['B', 'D'],\r\n      2: ['L\\'', 'D\\'']\r\n    },\r\n    DRB: {\r\n      0: ['D\\''],\r\n      1: ['B'],\r\n      2: ['L\\'', 'D2']\r\n    }\r\n  },\r\n  DRB: {\r\n    URF: {\r\n      0: ['R2'],\r\n      1: ['R\\'', 'U'],\r\n      2: ['B', 'U']\r\n    },\r\n    ULF: {\r\n      0: ['R2', 'U'],\r\n      1: ['R\\'', 'U2'],\r\n      2: ['B', 'U2']\r\n    },\r\n    ULB: {\r\n      0: ['B2'],\r\n      1: ['R\\'', 'U\\''],\r\n      2: ['B', 'U\\'']\r\n    },\r\n    URB: {\r\n      0: ['R2', 'U\\''],\r\n      1: ['R\\''],\r\n      2: ['B']\r\n    },\r\n    DRF: {\r\n      0: ['D\\''],\r\n      1: ['R'],\r\n      2: ['B\\'', 'D2']\r\n    },\r\n    DLF: {\r\n      0: ['D2'],\r\n      1: ['R', 'D\\''],\r\n      2: ['B\\'', 'D']\r\n    },\r\n    DLB: {\r\n      0: ['D'],\r\n      1: ['R', 'D2'],\r\n      2: ['B\\'']\r\n    },\r\n    DRB: {\r\n      0: [],\r\n      1: ['R', 'D'],\r\n      2: ['B\\'', 'D\\'']\r\n    }\r\n  }\r\n}\r\n\r\n/** @type {number[]} */\r\nconst orderIndexToCubieIndex = [\r\n  6, 8, 26, 24, 0, 2, 20, 18\r\n]\r\n\r\n\r\nexport class Corners {\r\n  /** @type {Permutation} */\r\n  static order = ['URF', 'ULF', 'ULB', 'URB', 'DRF', 'DLF', 'DLB', 'DRB']\r\n\r\n  /** @type {Permutation} */\r\n  permutation = [...Corners.order]\r\n  /** @type {Orientation} */\r\n  orientation = [0, 0, 0, 0, 0, 0, 0, 0]\r\n\r\n  /** @param {TurnBase} turn */\r\n  applyTurn(turn) {\r\n    const appliedPermutation = permutations[turn]\r\n    const appliedOrientation = orientations[turn]\r\n\r\n    const permutation = [...this.permutation]\r\n    const orientation = [...this.orientation]\r\n    \r\n    for (let i = 0; i < 8; i++) {\r\n      const newPermutation = appliedPermutation[i]\r\n      const orderIndex = Corners.order.indexOf(newPermutation)\r\n      this.permutation[i] = permutation[orderIndex]\r\n      const newOrientation = (appliedOrientation[i] + orientation[orderIndex]) % 3\r\n      this.orientation[i] = /** @type {CO} */ (newOrientation)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {number[][][]} uvs\r\n   * @param {import('../ui/rubiks').Rubiks} rubiks\r\n   */\r\n  applyState(uvs, rubiks) {\r\n    for (let i = 0; i < 8; i++) {\r\n      const turns = this.#getTurns(i)\r\n\r\n      const originIndex = orderIndexToCubieIndex[Corners.order.indexOf(this.permutation[i])]\r\n      let sideToUvs = createSideToUvs(originIndex, uvs)\r\n      sideToUvs = transformSidetoUvs(originIndex, sideToUvs, turns)\r\n\r\n      const targetIndex = orderIndexToCubieIndex[i]\r\n      setUvs(targetIndex, rubiks, sideToUvs)\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.permutation = [...Corners.order]\r\n    this.orientation = [0, 0, 0, 0, 0, 0, 0, 0]\r\n  }\r\n\r\n  /** @returns {number[]} */\r\n  encode() {\r\n    let p = 0\r\n    for (const permutation of this.permutation) {\r\n      p = p << 3\r\n      p += Corners.order.indexOf(permutation)\r\n    }\r\n    let o = 0\r\n    for (const orientation of this.orientation) {\r\n      o = o << 2\r\n      o += orientation\r\n    }\r\n    return [\r\n      (p >> 0)  & 0b11111111,\r\n      (p >> 8)  & 0b11111111,\r\n      (p >> 16) & 0b11111111,\r\n      (o >> 0)  & 0b11111111,\r\n      (o >> 8)  & 0b11111111\r\n    ]\r\n  }\r\n\r\n  /**\r\n   * @param {number[]} code\r\n   * @returns {boolean}\r\n   */\r\n  decode(code) {\r\n    let p = code[0] + (code[1] << 8) + (code[2] << 16)\r\n    let o = code[3] + (code[4] << 8)\r\n    for (let i = 7; i >= 0; i--) {\r\n      const p1 = p & 0b111\r\n      if (p1 >= 8) {\r\n        return false\r\n      }\r\n      this.permutation[i] = Corners.order[p1]\r\n      p = p >> 3\r\n      const o1 = o & 0b11\r\n      if (o1 > 2) {\r\n        return false\r\n      }\r\n      this.orientation[i] = /** @type {CO} */ (o1)\r\n      o = o >> 2\r\n    }\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * @param {number} index\r\n   * @returns {Turn[]}\r\n   */\r\n  #getTurns(index) {\r\n    const start = Corners.order[index]\r\n    const permutation = this.permutation[index]\r\n    const orientation = this.orientation[index]\r\n    return map[permutation][start][orientation]\r\n  }\r\n}", "import {createSideToUvs, transformSidetoUvs, setUvs} from '.'\r\n\r\n/**\r\n * @typedef {import('./types').TurnBase} TurnBase\r\n * @typedef {import('./types').Turn} Turn\r\n * @typedef {import('./types').Edge} E\r\n * @typedef {import('./types').EdgeOrientation} EO\r\n * @typedef {[E, E, E, E, E, E, E, E, E, E, E, E]} Permutation\r\n * @typedef {[EO, EO, EO, EO, EO, EO, EO, EO, EO, EO, EO, EO]} Orientation\r\n */\r\n\r\n/** @satisfies {Record<TurnBase, Permutation>} */\r\nconst permutations = {\r\n  R: ['UF', 'UL', 'UB', 'FR', 'DR', 'FL', 'BL', 'UR', 'DF', 'DL', 'DB', 'BR'],\r\n  L: ['UF', 'BL', 'UB', 'UR', 'FR', 'UL', 'DL', 'BR', 'DF', 'FL', 'DB', 'DR'],\r\n  U: ['UR', 'UF', 'UL', 'UB', 'FR', 'FL', 'BL', 'BR', 'DF', 'DL', 'DB', 'DR'],\r\n  D: ['UF', 'UL', 'UB', 'UR', 'FR', 'FL', 'BL', 'BR', 'DL', 'DB', 'DR', 'DF'],\r\n  F: ['FL', 'UL', 'UB', 'UR', 'UF', 'DF', 'BL', 'BR', 'FR', 'DL', 'DB', 'DR'],\r\n  B: ['UF', 'UL', 'BR', 'UR', 'FR', 'FL', 'UB', 'DB', 'DF', 'DL', 'BL', 'DR']\r\n}\r\n\r\n/** @satisfies {Record<TurnBase, Orientation>} */\r\nconst orientations = {\r\n  R: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  L: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  U: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  D: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  F: [1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0],\r\n  B: [0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0]\r\n}\r\n\r\n/** @satisfies {Record<E, Record<E, Record<EO, Turn[]>>>} */\r\nconst map = {\r\n  UF: {\r\n    UF: {\r\n      0: [],\r\n      1: ['F', 'R', 'U']\r\n    },\r\n    UL: {\r\n      0: ['U'],\r\n      1: ['F\\'', 'L\\'']\r\n    },\r\n    UB: {\r\n      0: ['U2'],\r\n      1: ['F', 'R', 'U\\'']\r\n    },\r\n    UR: {\r\n      0: ['U\\''],\r\n      1: ['F', 'R']\r\n    },\r\n    FR: {\r\n      0: ['U\\'', 'R\\''],\r\n      1: ['F']\r\n    },\r\n    FL: {\r\n      0: ['U', 'L'],\r\n      1: ['F\\'']\r\n    },\r\n    BL: {\r\n      0: ['U', 'L\\''],\r\n      1: ['U2', 'B']\r\n    },\r\n    BR: {\r\n      0: ['U\\'', 'R'],\r\n      1: ['U2', 'B\\'']\r\n    },\r\n    DF: {\r\n      0: ['F2'],\r\n      1: ['F', 'R\\'', 'D\\'']\r\n    },\r\n    DL: {\r\n      0: ['F2', 'D\\''],\r\n      1: ['F\\'', 'L']\r\n    },\r\n    DB: {\r\n      0: ['F2', 'D2'],\r\n      1: ['F', 'R\\'', 'D']\r\n    },\r\n    DR: {\r\n      0: ['F2', 'D'],\r\n      1: ['F', 'R\\'']\r\n    }\r\n  },\r\n  UL: {\r\n    UF: {\r\n      0: ['U\\''],\r\n      1: ['L', 'F']\r\n    },\r\n    UL: {\r\n      0: [],\r\n      1: ['L', 'F', 'U']\r\n    },\r\n    UB: {\r\n      0: ['U'],\r\n      1: ['L\\'', 'B\\'']\r\n    },\r\n    UR: {\r\n      0: ['U2'],\r\n      1: ['L', 'F', 'U\\'']\r\n    },\r\n    FR: {\r\n      0: ['U2', 'R\\''],\r\n      1: ['U\\'', 'F']\r\n    },\r\n    FL: {\r\n      0: ['L'],\r\n      1: ['U\\'', 'F\\'']\r\n    },\r\n    BL: {\r\n      0: ['L\\''],\r\n      1: ['U', 'B']\r\n    },\r\n    BR: {\r\n      0: ['U2', 'R'],\r\n      1: ['U', 'B\\'']\r\n    },\r\n    DF: {\r\n      0: ['L2', 'D'],\r\n      1: ['L', 'F\\'']\r\n    },\r\n    DL: {\r\n      0: ['L2'],\r\n      1: ['L', 'F\\'', 'D\\'']\r\n    },\r\n    DB: {\r\n      0: ['L2', 'D\\''],\r\n      1: ['L\\'', 'B']\r\n    },\r\n    DR: {\r\n      0: ['L2', 'D2'],\r\n      1: ['L', 'F\\'', 'D']\r\n    }\r\n  },\r\n  UB: {\r\n    UF: {\r\n      0: ['U2'],\r\n      1: ['B\\'', 'R\\'', 'U']\r\n    },\r\n    UL: {\r\n      0: ['U\\''],\r\n      1: ['B', 'L']\r\n    },\r\n    UB: {\r\n      0: [],\r\n      1: ['B\\'', 'R\\'', 'U\\'']\r\n    },\r\n    UR: {\r\n      0: ['U'],\r\n      1: ['B\\'', 'R\\'']\r\n    },\r\n    FR: {\r\n      0: ['U', 'R\\''],\r\n      1: ['B\\'', 'R2']\r\n    },\r\n    FL: {\r\n      0: ['U\\'', 'L'],\r\n      1: ['B', 'L2']\r\n    },\r\n    BL: {\r\n      0: ['U\\'', 'L\\''],\r\n      1: ['B']\r\n    },\r\n    BR: {\r\n      0: ['U', 'R'],\r\n      1: ['B\\'']\r\n    },\r\n    DF: {\r\n      0: ['B2', 'D2'],\r\n      1: ['B\\'', 'R', 'D\\'']\r\n    },\r\n    DL: {\r\n      0: ['B2', 'D'],\r\n      1: ['B', 'L\\'']\r\n    },\r\n    DB: {\r\n      0: ['B2'],\r\n      1: ['B\\'', 'R', 'D']\r\n    },\r\n    DR: {\r\n      0: ['B2', 'D\\''],\r\n      1: ['B\\'', 'R']\r\n    }\r\n  },\r\n  UR: {\r\n    UF: {\r\n      0: ['U'],\r\n      1: ['R\\'', 'F\\'']\r\n    },\r\n    UL: {\r\n      0: ['U2'],\r\n      1: ['R\\'', 'F\\'', 'U']\r\n    },\r\n    UB: {\r\n      0: ['U\\''],\r\n      1: ['R', 'B']\r\n    },\r\n    UR: {\r\n      0: [],\r\n      1: ['R\\'', 'F\\'', 'U\\'']\r\n    },\r\n    FR: {\r\n      0: ['R\\''],\r\n      1: ['U', 'F']\r\n    },\r\n    FL: {\r\n      0: ['U2', 'L'],\r\n      1: ['U', 'F\\'']\r\n    },\r\n    BL: {\r\n      0: ['U2', 'L\\''],\r\n      1: ['U\\'', 'B']\r\n    },\r\n    BR: {\r\n      0: ['R'],\r\n      1: ['U\\'', 'B\\'']\r\n    },\r\n    DF: {\r\n      0: ['R2', 'D\\''],\r\n      1: ['R\\'', 'F']\r\n    },\r\n    DL: {\r\n      0: ['R2', 'D2'],\r\n      1: ['R\\'', 'F', 'D\\'']\r\n    },\r\n    DB: {\r\n      0: ['R2', 'D'],\r\n      1: ['R', 'B\\'']\r\n    },\r\n    DR: {\r\n      0: ['R2'],\r\n      1: ['R\\'', 'F', 'D']\r\n    }\r\n  },\r\n  FR: {\r\n    UF: {\r\n      0: ['R', 'U'],\r\n      1: ['F\\'']\r\n    },\r\n    UL: {\r\n      0: ['R', 'U2'],\r\n      1: ['F\\'', 'U']\r\n    },\r\n    UB: {\r\n      0: ['R', 'U\\''],\r\n      1: ['F\\'', 'U2']\r\n    },\r\n    UR: {\r\n      0: ['R'],\r\n      1: ['F\\'', 'U\\'']\r\n    },\r\n    FR: {\r\n      0: [],\r\n      1: ['F\\'', 'U\\'', 'R\\'']\r\n    },\r\n    FL: {\r\n      0: ['F2'],\r\n      1: ['F\\'', 'U', 'L']\r\n    },\r\n    BL: {\r\n      0: ['F2', 'L2'],\r\n      1: ['F\\'', 'U', 'L\\'']\r\n    },\r\n    BR: {\r\n      0: ['R2'],\r\n      1: ['F\\'', 'U\\'', 'R']\r\n    },\r\n    DF: {\r\n      0: ['R\\'', 'D\\''],\r\n      1: ['F']\r\n    },\r\n    DL: {\r\n      0: ['R\\'', 'D2'],\r\n      1: ['F', 'D\\'']\r\n    },\r\n    DB: {\r\n      0: ['R\\'', 'D'],\r\n      1: ['F', 'D2']\r\n    },\r\n    DR: {\r\n      0: ['R\\''],\r\n      1: ['F', 'D']\r\n    }\r\n  },\r\n  FL: {\r\n    UF: {\r\n      0: ['L\\'', 'U\\''],\r\n      1: ['F']\r\n    },\r\n    UL: {\r\n      0: ['L\\''],\r\n      1: ['F', 'U']\r\n    },\r\n    UB: {\r\n      0: ['L\\'', 'U'],\r\n      1: ['F', 'U2']\r\n    },\r\n    UR: {\r\n      0: ['L\\'', 'U2'],\r\n      1: ['F', 'U\\'']\r\n    },\r\n    FR: {\r\n      0: ['F2'],\r\n      1: ['F', 'U\\'', 'R\\'']\r\n    },\r\n    FL: {\r\n      0: [],\r\n      1: ['F', 'U', 'L']\r\n    },\r\n    BL: {\r\n      0: ['L2'],\r\n      1: ['F', 'U', 'L\\'']\r\n    },\r\n    BR: {\r\n      0: ['F2', 'R2'],\r\n      1: ['F', 'U\\'', 'R']\r\n    },\r\n    DF: {\r\n      0: ['L', 'D'],\r\n      1: ['F\\'']\r\n    },\r\n    DL: {\r\n      0: ['L'],\r\n      1: ['F\\'', 'D\\'']\r\n    },\r\n    DB: {\r\n      0: ['L', 'D\\''],\r\n      1: ['F\\'', 'D2']\r\n    },\r\n    DR: {\r\n      0: ['L', 'D2'],\r\n      1: ['F\\'', 'D']\r\n    }\r\n  },\r\n  BL: {\r\n    UF: {\r\n      0: ['L', 'U\\''],\r\n      1: ['B\\'', 'U2']\r\n    },\r\n    UL: {\r\n      0: ['L'],\r\n      1: ['B\\'', 'U\\'']\r\n    },\r\n    UB: {\r\n      0: ['L', 'U'],\r\n      1: ['B\\'']\r\n    },\r\n    UR: {\r\n      0: ['L', 'U2'],\r\n      1: ['B\\'', 'U']\r\n    },\r\n    FR: {\r\n      0: ['B2', 'R2'],\r\n      1: ['B\\'', 'U', 'R\\'']\r\n    },\r\n    FL: {\r\n      0: ['L2'],\r\n      1: ['B\\'', 'U\\'', 'L']\r\n    },\r\n    BL: {\r\n      0: [],\r\n      1: ['B\\'', 'U\\'', 'L\\'']\r\n    },\r\n    BR: {\r\n      0: ['B2'],\r\n      1: ['B\\'', 'U', 'R']\r\n    },\r\n    DF: {\r\n      0: ['L\\'', 'D'],\r\n      1: ['B', 'D2']\r\n    },\r\n    DL: {\r\n      0: ['L\\''],\r\n      1: ['B', 'D']\r\n    },\r\n    DB: {\r\n      0: ['L\\'', 'D\\''],\r\n      1: ['B']\r\n    },\r\n    DR: {\r\n      0: ['L\\'', 'D2'],\r\n      1: ['B', 'D\\'']\r\n    }\r\n  },\r\n  BR: {\r\n    UF: {\r\n      0: ['R\\'', 'U'],\r\n      1: ['B', 'U2']\r\n    },\r\n    UL: {\r\n      0: ['R\\'', 'U2'],\r\n      1: ['B', 'U\\'']\r\n    },\r\n    UB: {\r\n      0: ['R\\'', 'U\\''],\r\n      1: ['B']\r\n    },\r\n    UR: {\r\n      0: ['R\\''],\r\n      1: ['B', 'U']\r\n    },\r\n    FR: {\r\n      0: ['R2'],\r\n      1: ['B', 'U', 'R\\'']\r\n    },\r\n    FL: {\r\n      0: ['B2', 'L2'],\r\n      1: ['B', 'U\\'', 'L']\r\n    },\r\n    BL: {\r\n      0: ['B2'],\r\n      1: ['B', 'U\\'', 'L\\'']\r\n    },\r\n    BR: {\r\n      0: [],\r\n      1: ['B', 'U', 'R']\r\n    },\r\n    DF: {\r\n      0: ['R', 'D\\''],\r\n      1: ['B\\'', 'D2']\r\n    },\r\n    DL: {\r\n      0: ['R', 'D2'],\r\n      1: ['B\\'', 'D']\r\n    },\r\n    DB: {\r\n      0: ['R', 'D'],\r\n      1: ['B\\'']\r\n    },\r\n    DR: {\r\n      0: ['R'],\r\n      1: ['B\\'', 'D\\'']\r\n    }\r\n  },\r\n  DF: {\r\n    UF: {\r\n      0: ['F2'],\r\n      1: ['F\\'', 'R', 'U']\r\n    },\r\n    UL: {\r\n      0: ['F2', 'U'],\r\n      1: ['F', 'L\\'']\r\n    },\r\n    UB: {\r\n      0: ['F2', 'U2'],\r\n      1: ['F\\'', 'R', 'U\\'']\r\n    },\r\n    UR: {\r\n      0: ['F2', 'U\\''],\r\n      1: ['F\\'', 'R']\r\n    },\r\n    FR: {\r\n      0: ['D', 'R'],\r\n      1: ['F\\'']\r\n    },\r\n    FL: {\r\n      0: ['D\\'', 'L\\''],\r\n      1: ['F']\r\n    },\r\n    BL: {\r\n      0: ['D\\'', 'L'],\r\n      1: ['D2', 'B\\'']\r\n    },\r\n    BR: {\r\n      0: ['D', 'R\\''],\r\n      1: ['D2', 'B']\r\n    },\r\n    DF: {\r\n      0: [],\r\n      1: ['F\\'', 'R\\'', 'D\\'']\r\n    },\r\n    DL: {\r\n      0: ['D\\''],\r\n      1: ['F', 'L']\r\n    },\r\n    DB: {\r\n      0: ['D2'],\r\n      1: ['F\\'', 'R\\'', 'D']\r\n    },\r\n    DR: {\r\n      0: ['D'],\r\n      1: ['F\\'', 'R\\'']\r\n    }\r\n  },\r\n  DL: {\r\n    UF: {\r\n      0: ['L2', 'U\\''],\r\n      1: ['L\\'', 'F']\r\n    },\r\n    UL: {\r\n      0: ['L2'],\r\n      1: ['L\\'', 'F', 'U']\r\n    },\r\n    UB: {\r\n      0: ['L2', 'U'],\r\n      1: ['L', 'B\\'']\r\n    },\r\n    UR: {\r\n      0: ['L2', 'U2'],\r\n      1: ['L\\'', 'F', 'U\\'']\r\n    },\r\n    FR: {\r\n      0: ['D2', 'R'],\r\n      1: ['D', 'F\\'']\r\n    },\r\n    FL: {\r\n      0: ['L\\''],\r\n      1: ['D', 'F']\r\n    },\r\n    BL: {\r\n      0: ['L'],\r\n      1: ['D\\'', 'B\\'']\r\n    },\r\n    BR: {\r\n      0: ['D2', 'R\\''],\r\n      1: ['D\\'', 'B']\r\n    },\r\n    DF: {\r\n      0: ['D'],\r\n      1: ['L\\'', 'F\\'']\r\n    },\r\n    DL: {\r\n      0: [],\r\n      1: ['L\\'', 'F\\'', 'D\\'']\r\n    },\r\n    DB: {\r\n      0: ['D\\''],\r\n      1: ['L', 'B']\r\n    },\r\n    DR: {\r\n      0: ['D2'],\r\n      1: ['L\\'', 'F\\'', 'D']\r\n    }\r\n  },\r\n  DB: {\r\n    UF: {\r\n      0: ['B2', 'U2'],\r\n      1: ['B', 'R\\'', 'U']\r\n    },\r\n    UL: {\r\n      0: ['B2', 'U\\''],\r\n      1: ['B\\'', 'L']\r\n    },\r\n    UB: {\r\n      0: ['B2'],\r\n      1: ['B', 'R\\'', 'U\\'']\r\n    },\r\n    UR: {\r\n      0: ['B2', 'U'],\r\n      1: ['B', 'R\\'']\r\n    },\r\n    FR: {\r\n      0: ['D\\'', 'R'],\r\n      1: ['D2', 'F\\'']\r\n    },\r\n    FL: {\r\n      0: ['D', 'L\\''],\r\n      1: ['D2', 'F']\r\n    },\r\n    BL: {\r\n      0: ['D', 'L'],\r\n      1: ['B\\'']\r\n    },\r\n    BR: {\r\n      0: ['D\\'', 'R\\''],\r\n      1: ['B']\r\n    },\r\n    DF: {\r\n      0: ['D2'],\r\n      1: ['B', 'R', 'D\\'']\r\n    },\r\n    DL: {\r\n      0: ['D'],\r\n      1: ['B\\'', 'L\\'']\r\n    },\r\n    DB: {\r\n      0: [],\r\n      1: ['B', 'R', 'D']\r\n    },\r\n    DR: {\r\n      0: ['D\\''],\r\n      1: ['B', 'R']\r\n    }\r\n  },\r\n  DR: {\r\n    UF: {\r\n      0: ['R2', 'U'],\r\n      1: ['R', 'F\\'']\r\n    },\r\n    UL: {\r\n      0: ['R2', 'U2'],\r\n      1: ['R', 'F\\'', 'U']\r\n    },\r\n    UB: {\r\n      0: ['R2', 'U\\''],\r\n      1: ['R\\'', 'B']\r\n    },\r\n    UR: {\r\n      0: ['R2'],\r\n      1: ['R', 'F\\'', 'U\\'']\r\n    },\r\n    FR: {\r\n      0: ['R'],\r\n      1: ['D\\'', 'F\\'']\r\n    },\r\n    FL: {\r\n      0: ['D2', 'L\\''],\r\n      1: ['D\\'', 'F']\r\n    },\r\n    BL: {\r\n      0: ['D2', 'L'],\r\n      1: ['D', 'B\\'']\r\n    },\r\n    BR: {\r\n      0: ['R\\''],\r\n      1: ['D', 'B']\r\n    },\r\n    DF: {\r\n      0: ['D\\''],\r\n      1: ['R', 'F']\r\n    },\r\n    DL: {\r\n      0: ['D2'],\r\n      1: ['R', 'F', 'D\\'']\r\n    },\r\n    DB: {\r\n      0: ['D'],\r\n      1: ['R\\'', 'B\\'']\r\n    },\r\n    DR: {\r\n      0: [],\r\n      1: ['R', 'F', 'D']\r\n    }\r\n  }\r\n}\r\n\r\n/** @type {number[]} */\r\nconst orderIndexToCubieIndex = [\r\n  7, 17, 25, 15, 3, 5, 23, 21, 1, 11, 19, 9\r\n]\r\n\r\nexport class Edges {\r\n  /** @type {Permutation} */ \r\n  static order = ['UF', 'UL', 'UB', 'UR', 'FR', 'FL', 'BL', 'BR', 'DF', 'DL', 'DB', 'DR']\r\n\r\n  /** @type {Permutation} */ \r\n  permutation = [...Edges.order]\r\n  /** @type {Orientation} */\r\n  orientation = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n\r\n  /** @param {TurnBase} turn */\r\n  applyTurn(turn) {\r\n    const appliedPermutation = permutations[turn]\r\n    const appliedOrientation = orientations[turn]\r\n\r\n    const permutation = [...this.permutation]\r\n    const orientation = [...this.orientation]\r\n\r\n    for (let i = 0; i < 12; i++) {\r\n      const newPermutation = appliedPermutation[i]\r\n      const orderIndex = Edges.order.indexOf(newPermutation)\r\n      this.permutation[i] = permutation[orderIndex]\r\n      const newOrientation = (appliedOrientation[i] + orientation[orderIndex]) % 2\r\n      this.orientation[i] = /** @type {EO} */ (newOrientation)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {number[][][]} uvs\r\n   * @param {import('../ui/rubiks').Rubiks} rubiks\r\n   */\r\n  applyState(uvs, rubiks) {\r\n    for (let i = 0; i < 12; i++) {\r\n      const turns = this.#getTurns(i)\r\n\r\n      const originIndex = orderIndexToCubieIndex[Edges.order.indexOf(this.permutation[i])]\r\n      let sideToUvs = createSideToUvs(originIndex, uvs)\r\n      sideToUvs = transformSidetoUvs(originIndex, sideToUvs, turns)\r\n\r\n      const targetIndex = orderIndexToCubieIndex[i]\r\n      setUvs(targetIndex, rubiks, sideToUvs)\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.permutation = [...Edges.order]\r\n    this.orientation = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n  }\r\n\r\n  /** @returns {number[]} */\r\n  encode() {\r\n    /** @type {number[]} */\r\n    let p = []\r\n    for (let i = 0; i < 6; i++) {\r\n      const p1 = Edges.order.indexOf(this.permutation[i * 2])\r\n      const p2 = Edges.order.indexOf(this.permutation[i * 2 + 1])\r\n      p.push(\r\n        (p2 << 4) + p1\r\n      )\r\n    }\r\n    let o = 0\r\n    for (const orientation of this.orientation) {\r\n      o = o << 1\r\n      o += orientation\r\n    }\r\n    return [\r\n      ...p,\r\n      (o >> 0) & 0b11111111,\r\n      (o >> 8) & 0b11111111\r\n    ]\r\n  }\r\n\r\n  /**\r\n   * @param {number[]} code\r\n   * @returns {boolean}\r\n   */\r\n  decode(code) {\r\n    for (let i = 0; i < 6; i++) {\r\n      const p1 = code[i] & 0b1111\r\n      const p2 = (code[i] >> 4) & 0b1111\r\n      if (p1 >= 12 || p2 >= 12) {\r\n        return false\r\n      }\r\n      this.permutation[i * 2] = Edges.order[p1]\r\n      this.permutation[i * 2 + 1] = Edges.order[p2]\r\n    }\r\n\r\n    let o = code[6] + (code[7] << 8)\r\n    for (let i = 11; i >= 0; i--) {\r\n      this.orientation[i] = /** @type {EO} */ (o & 0b1)\r\n      o = o >> 1\r\n    }\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * @param {number} index\r\n   * @returns {Turn[]}\r\n   */\r\n  #getTurns(index) {\r\n    const start = Edges.order[index]\r\n    const permutation = this.permutation[index]\r\n    const orientation = this.orientation[index]\r\n    return map[permutation][start][orientation]\r\n  }\r\n}", "/**\r\n * @param {number} a\r\n * @param {number} b\r\n * @returns {number}\r\n */\r\nexport const mod = (a, b) => {\r\n  return  ((a % b) + b) % b\r\n}\r\n\r\n/**\r\n * @param {number} a\r\n * @param {number} b\r\n * @param {number} t\r\n * @returns {number}\r\n */\r\nexport const lerp = (a, b, t) => {\r\n  return a + (b - a) * t\r\n}\r\n\r\n/**\r\n * @param {number} x\r\n * @param {number} min\r\n * @param {number} max\r\n * @returns {number}\r\n */\r\nexport const clamp = (x, min, max) => {\r\n  return Math.min(Math.max(x, min), max)\r\n}", "import {mod} from '../math/utils'\r\n\r\n/**\r\n * @typedef {import('./types').TurnBase} TurnBase\r\n * @typedef {import('./types').Turn} Turn\r\n * @typedef {import('./types').Center} C\r\n * @typedef {import('./types').CenterOrientation} CO\r\n * @typedef {[C, C, C, C, C, C]} Permutation\r\n * @typedef {[CO, CO, CO, CO, CO, CO]} Orientation\r\n */\r\n\r\n/** @type {number[]} */\r\nconst orderIndexToCubieIndex = [\r\n\t12, 14, 10, 16, 4, 22\r\n]\r\n\r\nexport class Centers {\r\n\t/** @type {Permutation} */\r\n\tstatic order = ['R', 'L', 'D', 'U', 'F', 'B']\r\n\r\n\t/** @type {Orientation} */\r\n\torientation = [0, 0, 0, 0, 0, 0]\r\n\r\n\t/** @param {TurnBase} turn */\r\n\tapplyTurn(turn) {\r\n\t\tconst index = Centers.order.indexOf(turn)\r\n\t\tthis.orientation[index] = /** @type {CO} */ (mod(this.orientation[index] + 1, 4))\r\n\t}\r\n\r\n\t/**\r\n\t * @param {number[][][]} uvs\r\n\t * @param {import('../ui/rubiks').Rubiks} rubiks\r\n\t */\r\n\tapplyState(uvs, rubiks) {\r\n\t\tfor (let side = 0; side < 6; side++) {\r\n\t\t\tconst uv = uvs[side][4]\r\n\t\t\tconst offset = this.orientation[side] * 2\r\n\t\t\tconst cubieIndex = orderIndexToCubieIndex[side]\r\n\t\t\tconst facelet = rubiks.cubies[cubieIndex].getFaceletOfSide(side)\r\n\t\t\tfacelet.uvs = []\r\n\t\t\tfor (let i = 0; i < 8; i++) {\r\n\t\t\t\tfacelet.uvs[i] = uv[mod(offset + i, 8)]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.orientation = [0, 0, 0, 0, 0, 0]\r\n\t}\r\n\r\n\t/** @returns {number[]} */\r\n\tencode() {\r\n\t\tlet o = 0\r\n\t\tfor (const orientation of this.orientation) {\r\n\t\t\to = o << 2\r\n\t\t\to += orientation\r\n\t\t}\r\n\t\treturn [\r\n      (o >> 0)  & 0b11111111,\r\n      (o >> 8)  & 0b11111111\r\n\t\t]\r\n\t}\r\n\r\n\t/** @param {number[]} code */\r\n\tdecode(code) {\r\n\t\tlet o = code[0] + (code[1] << 8)\r\n\t\tfor (let i = 5; i >= 0; i--) {\r\n\t\t\tthis.orientation[i] = /** @type {CO} */ (o & 0b11)\r\n\t\t\to = o >> 2\r\n\t\t}\r\n\t}\r\n}", "/**\r\n * @typedef {import('./types').AIA} AIA\r\n * @typedef {import('./state/types').TurnBase} TurnBase\r\n * @typedef {import('./state/types').Turn} Turn\r\n */\r\n\r\n/** @type {[a: TurnBase, b: TurnBase, invert: boolean][]} */\r\nconst axisToTurn = [\r\n\t['R', 'L', false],\r\n\t['D', 'U', true],\r\n\t['F', 'B', false]\r\n]\r\n\r\n/**\r\n * @param {AIA} aia\r\n * @returns {Turn}\r\n */\r\nexport const convertAiaToTurn = (aia) => {\r\n\tif (aia.index === 1) {\r\n\t\tthrow new Error('Cannot convert middle turns')\r\n\t}\r\n\r\n\tlet [a, b, invert] = axisToTurn[aia.axis]\r\n\t\r\n\tconst turn = aia.index === 0 ? a : b\r\n\r\n\tif (aia.angle === 2) {\r\n\t\treturn `${turn}2`\r\n\t}\r\n\t\r\n\tif (aia.index === 2) {\r\n\t\tinvert = !invert\r\n\t}\r\n\r\n\tif (aia.angle === 3 && !invert || aia.angle === 1 && invert) {\r\n\t\treturn `${turn}'`\r\n\t}\r\n\r\n\treturn turn\r\n}\r\n\r\n/** @type {Record<TurnBase, [axis: number, index: number, invert: boolean]>} */\r\nconst turnToAia = {\r\n\tR: [0, 0, false],\r\n\tL: [0, 2, false],\r\n\tD: [1, 0, true],\r\n\tU: [1, 2, true],\r\n\tF: [2, 0, false],\r\n\tB: [2, 2, false]\r\n}\r\n\r\n/**\r\n * @param {Turn} turn\r\n * @returns {AIA}\r\n */\r\nexport const convertTurnToAia = (turn) => {\r\n\tconst base = /** @type {TurnBase} */ (turn[0])\r\n\r\n\tconst [axis, index, invert] = turnToAia[base]\r\n\r\n\tif (turn.endsWith('2')) {\r\n\t\treturn {axis, index, angle: 2}\r\n\t}\r\n\r\n\tlet prime = turn.endsWith('\\'')\r\n\tif (invert) {\r\n\t\tprime = !prime\r\n\t}\r\n\r\n\tlet angle = 3\r\n\tif (index === 0 && !prime || index === 2 && prime) {\r\n\t\tangle = 1\r\n\t}\r\n\treturn {axis, index, angle}\r\n}\r\n\r\n\r\n/**\r\n * @param {Turn} turn\r\n * @returns {TurnBase[]}\r\n */\r\nexport const convertTurnToTurnBase = turn => {\r\n  const base = /** @type {TurnBase} */ (turn[0])\r\n  if (turn.endsWith('2')) {\r\n    return [base, base]\r\n  }\r\n  if (turn.endsWith('\\'')) {\r\n    return [base, base, base]\r\n  }\r\n  return [base]\r\n}", "/** @satisfies {Record<string, (uvs: number[]) => number[]>} */\r\nconst uvsTransformers = {\r\n  identity: uvs => [...uvs],\r\n  flipH: uvs => [uvs[6], uvs[7], uvs[4], uvs[5], uvs[2], uvs[3], uvs[0], uvs[1]],\r\n  flipV: uvs => [uvs[2], uvs[3], uvs[0], uvs[1], uvs[6], uvs[7], uvs[4], uvs[5]],\r\n  rotateCC: uvs => [uvs[6], uvs[7], uvs[0], uvs[1], uvs[2], uvs[3], uvs[4], uvs[5]],\r\n  rotateC: uvs => [uvs[2], uvs[3], uvs[4], uvs[5], uvs[6], uvs[7], uvs[0], uvs[1]],\r\n  rotate2: uvs => [uvs[4], uvs[5], uvs[6], uvs[7], uvs[0], uvs[1], uvs[2], uvs[3]],\r\n  rotateCFlipH: uvs => [uvs[0], uvs[1], uvs[6], uvs[7], uvs[4], uvs[5], uvs[2], uvs[3]]\r\n}\r\n/** @satisfies {Record<string, Record<number, (uvs: number[]) => number[]>>} */\r\nexport const uvsTransformerPresets = {\r\n  flipV12: {\r\n    1: uvsTransformers.flipV,\r\n    2: uvsTransformers.flipV,\r\n    3: uvsTransformers.identity\r\n  },\r\n  flipV23: {\r\n    1: uvsTransformers.identity,\r\n    2: uvsTransformers.flipV,\r\n    3: uvsTransformers.flipV\r\n  },\r\n  flipH12: {\r\n    1: uvsTransformers.flipH,\r\n    2: uvsTransformers.flipH,\r\n    3: uvsTransformers.identity\r\n  },\r\n  flipH23: {\r\n    1: uvsTransformers.identity,\r\n    2: uvsTransformers.flipH,\r\n    3: uvsTransformers.flipH\r\n  },\r\n  rcfhFvRcc: {\r\n    1: uvsTransformers.rotateCFlipH,\r\n    2: uvsTransformers.flipV,\r\n    3: uvsTransformers.rotateCC\r\n  },\r\n  rcFvRcfh: {\r\n    1: uvsTransformers.rotateC,\r\n    2: uvsTransformers.flipV,\r\n    3: uvsTransformers.rotateCFlipH\r\n  },\r\n  rcFhRcfh: {\r\n    1: uvsTransformers.rotateC,\r\n    2: uvsTransformers.flipH,\r\n    3: uvsTransformers.rotateCFlipH\r\n  },\r\n  rcfhFhRcc: {\r\n    1: uvsTransformers.rotateCFlipH,\r\n    2: uvsTransformers.flipH,\r\n    3: uvsTransformers.rotateCC\r\n  },\r\n  rcR2Rcc: {\r\n    1: uvsTransformers.rotateC,\r\n    2: uvsTransformers.rotate2,\r\n    3: uvsTransformers.rotateCC,\r\n  },\r\n  rccR2Rc: {\r\n    1: uvsTransformers.rotateCC,\r\n    2: uvsTransformers.rotate2,\r\n    3: uvsTransformers.rotateC,\r\n  }\r\n}\r\n\r\n\r\n\r\n/**\r\n * `cubiesShiftMapper[axis][index]`\r\n * @type {Record<number, Record<number, number[]>>}\r\n */\r\nexport const cubiesShiftMapper = {\r\n  0: {\r\n    0: [0, 3, 6, 15, 24, 21, 18, 9],\r\n    2: [2, 5, 8, 17, 26, 23, 20, 11]\r\n  },\r\n  1: {\r\n    0: [0, 1, 2, 11, 20, 19, 18, 9],\r\n    2: [6, 7, 8, 17, 26, 25, 24, 15]\r\n  },\r\n  2: {\r\n    0: [0, 1, 2, 5, 8, 7, 6, 3],\r\n    2: [18, 19, 20, 23, 26, 25, 24, 21]\r\n  }\r\n}\r\n\r\n/**\r\n * `sidesShiftMapper[axis]`\r\n * @type {[number, number, number, number][]}\r\n */\r\nexport const sidesShiftMapper = [\r\n  [2, 5, 3, 4],\r\n  [0, 5, 1, 4],\r\n  [0, 3, 1, 2]\r\n]", "import {Corners} from './corners'\r\nimport {Edges} from './edges'\r\nimport {Centers} from './centers'\r\nimport {convertTurnToTurnBase, convertTurnToAia} from '../converter'\r\nimport {uvsTransformerPresets, cubiesShiftMapper, sidesShiftMapper} from '../ui/uvs'\r\nimport {isInside, indexToPosition, positionToUvs} from '../ui/cubie'\r\nimport {mod} from '../math/utils'\r\n\r\n/**\r\n * @typedef {import('./types').Turn} Turn\r\n * @typedef {import('./types').TurnBase} TurnBase\r\n * @typedef {import('./types').Corner} Corner\r\n */\r\n\r\nexport class State {\r\n  #corners = new Corners()\r\n  #edges = new Edges()\r\n  #centers = new Centers()\r\n  /** @type {boolean} */\r\n  #trackCenters\r\n  \r\n  stateInfo = new StateInfo(this)\r\n\r\n  /** @param {boolean} trackCenters */\r\n  constructor(trackCenters) {\r\n    this.#trackCenters = trackCenters\r\n  }\r\n\r\n  /** @param {Turn} turn */\r\n  applyTurn(turn) {\r\n    const baseTurns = convertTurnToTurnBase(turn)\r\n    for (const base of baseTurns) {\r\n      this.#corners.applyTurn(base)\r\n      this.#edges.applyTurn(base)\r\n      if (this.#trackCenters) {\r\n        this.#centers.applyTurn(base)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {number[][][]} uvs\r\n   * @param {import('../ui/rubiks').Rubiks} rubiks\r\n   */\r\n  applyState(uvs, rubiks) {\r\n    this.#corners.applyState(uvs, rubiks)\r\n    this.#edges.applyState(uvs, rubiks)\r\n    if (this.#trackCenters) {\r\n      this.#centers.applyState(uvs, rubiks)\r\n    }\r\n  }\r\n\r\n  /** @returns {string} */\r\n  encode() {\r\n    /** @type {number[]} */\r\n    const code = []\r\n    code.push(...this.#corners.encode())\r\n    code.push(...this.#edges.encode())\r\n    if (this.#trackCenters) {\r\n      code.push(...this.#centers.encode())\r\n    }\r\n    const array = new Uint8Array(code)\r\n    return btoa(String.fromCharCode(...array))\r\n  }\r\n\r\n  /**\r\n   * @param {string} str\r\n   * @returns {boolean}\r\n   */\r\n  decode(str) {\r\n    const data = atob(str)\r\n    if (data.length !== (this.#trackCenters ? 15 : 13)) {\r\n      return false\r\n    }\r\n    \r\n    /** @type {number[]} */\r\n    const code = []\r\n    for (let i = 0; i < data.length; i++) {\r\n      code.push(data.charCodeAt(i))\r\n    }\r\n\r\n    const corners = this.#corners\r\n    /** @type {typeof corners['permutation']} */\r\n    const cp = [...corners.permutation]\r\n    /** @type {typeof corners['orientation']} */\r\n    const co = [...corners.orientation]\r\n\r\n    if (!corners.decode(code.slice(0, 5))) {\r\n      corners.permutation = cp\r\n      corners.orientation = co\r\n      return false\r\n    }\r\n\r\n    const edges = this.#edges\r\n    /** @type {typeof edges['permutation']} */\r\n    const ep = [...edges.permutation]\r\n    /** @type {typeof edges['orientation']} */\r\n    const eo = [...edges.orientation]\r\n\r\n    if (!edges.decode(code.slice(5, 13))) {\r\n      corners.permutation = cp\r\n      corners.orientation = co\r\n      edges.permutation = ep\r\n      edges.orientation = eo\r\n      return false\r\n    }\r\n\r\n    if (this.#trackCenters) {\r\n      this.#centers.decode(code.slice(13))\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  reset() {\r\n    this.#corners.reset()\r\n    this.#edges.reset()\r\n    this.#centers.reset()\r\n  }\r\n}\r\n\r\nexport class StateInfo {\r\n  /** @type {State} */\r\n  #state\r\n\r\n  /** @param {State} state */\r\n  constructor(state) {\r\n    this.#state = state\r\n  }\r\n\r\n  /**\r\n   * @returns {string} base64 encoded, can be used in the setState method\r\n   */\r\n  toString() {\r\n    return this.#state.encode()\r\n  }\r\n}\r\n\r\n/**\r\n * `uvsTransformers[axis][side][angle]`\r\n * @type {Record<number, Record<number, Record<number, (uvs: number[]) => number[]>>>}\r\n */\r\nconst uvsTransformers = {\r\n  0: {\r\n    0: uvsTransformerPresets.rcR2Rcc,\r\n    1: uvsTransformerPresets.rcR2Rcc,\r\n    2: uvsTransformerPresets.flipV12,\r\n    3: uvsTransformerPresets.flipV12,\r\n    4: uvsTransformerPresets.flipV23,\r\n    5: uvsTransformerPresets.flipV23\r\n  },\r\n  1: {\r\n    0: uvsTransformerPresets.rcFvRcfh,\r\n    1: uvsTransformerPresets.rcFvRcfh,\r\n    2: uvsTransformerPresets.rcR2Rcc,\r\n    3: uvsTransformerPresets.rcR2Rcc,\r\n    4: uvsTransformerPresets.rcfhFhRcc,\r\n    5: uvsTransformerPresets.rcfhFhRcc\r\n  },\r\n  2: {\r\n    0: uvsTransformerPresets.flipH12,\r\n    1: uvsTransformerPresets.flipH12,\r\n    2: uvsTransformerPresets.flipH23,\r\n    3: uvsTransformerPresets.flipH23,\r\n    4: uvsTransformerPresets.rcR2Rcc,\r\n    5: uvsTransformerPresets.rcR2Rcc\r\n  }\r\n}\r\n\r\n/**\r\n * @param {number} originIndex\r\n * @param {number[][][]} uvs\r\n * @returns {Record<number, number[]>}\r\n */\r\nexport const createSideToUvs = (originIndex, uvs) => {\r\n  const pos = indexToPosition(originIndex)\r\n\r\n  /** @type {Record<number, number[]>} */\r\n  const sideToUvs = {}\r\n\r\n  // populate sideToUvs\r\n  for (let side = 0; side < 6; side++) {\r\n    const inside = isInside(side, originIndex)\r\n    if (inside) {\r\n      continue\r\n    }\r\n    sideToUvs[side] = positionToUvs(pos, side, uvs)\r\n  }\r\n\r\n  return sideToUvs\r\n}\r\n\r\n/**\r\n * @param {Turn[]} turns\r\n * @param {number} originIndex\r\n * @param {Record<number, number[]>} sideToUvs\r\n * @returns {Record<number, number[]>}\r\n */\r\nexport const transformSidetoUvs = (originIndex, sideToUvs, turns) => {\r\n  for (const turn of turns) {\r\n    let {axis, index, angle} = convertTurnToAia(turn)\r\n    const innerSide = axis * 2 + Math.sign(index)\r\n\r\n    /** @type {Record<number, number[]>} */\r\n    const newSideToUvs = {}\r\n    for (const [sideStr, uvs] of Object.entries(sideToUvs)) {\r\n      const side = parseInt(sideStr)\r\n      const transformer = uvsTransformers[axis][side][angle]\r\n\r\n      if (side === innerSide) {\r\n        newSideToUvs[innerSide] = transformer(uvs)\r\n        continue\r\n      }\r\n\r\n      const sideIndex = sidesShiftMapper[axis].indexOf(side)\r\n      const newSide = sidesShiftMapper[axis][mod(sideIndex - angle, 4)]\r\n      newSideToUvs[newSide] = transformer(uvs)\r\n    }\r\n\r\n    const mapperIndex = cubiesShiftMapper[axis][index].indexOf(originIndex)\r\n    originIndex = cubiesShiftMapper[axis][index][mod(mapperIndex + angle * 2, 8)]\r\n    sideToUvs = newSideToUvs\r\n  }\r\n\r\n  return sideToUvs\r\n}\r\n\r\n/**\r\n * @param {number} targetIndex\r\n * @param {import('../ui/rubiks').Rubiks} rubiks\r\n * @param {Record<number, number[]>} sideToUvs\r\n */\r\nexport const setUvs = (targetIndex, rubiks, sideToUvs) => {\r\n  const cubie = rubiks.cubies[targetIndex]\r\n  for (const facelet of cubie.facelets) {\r\n    facelet.uvs = sideToUvs[facelet.side]\r\n  }\r\n}"],
  "mappings": "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",
  "names": ["permutations", "orientations", "map", "orderIndexToCubieIndex", "getTurns_fn", "orderIndexToCubieIndex", "uvsTransformers"]
}
