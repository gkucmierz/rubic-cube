{
  "version": 3,
  "sources": ["../../rubiks-js/src/math/abstractVector.js", "../../rubiks-js/src/math/vector.js", "../../rubiks-js/src/math/matrix.js", "../../rubiks-js/src/math/quarternion.js", "../../rubiks-js/src/ui/program.js", "../../rubiks-js/src/ui/transform.js", "../../rubiks-js/src/ui/facelet.js", "../../rubiks-js/src/ui/cubie.js"],
  "sourcesContent": ["/**\r\n * @template {Vector<any>} V\r\n * @abstract\r\n */\r\nexport class Vector {\r\n  /**\r\n   * @abstract\r\n   * @param {number} _a\r\n   */\r\n  scale(_a) {\r\n    throw new Error('must be implemented in subclass')\r\n  }\r\n  /**\r\n   * @abstract\r\n   * @param {V} _v\r\n   * @returns {V}\r\n   */\r\n  add(_v) {\r\n    throw new Error('must be implemented in subclass')\r\n  }\r\n  /**\r\n   * @abstract\r\n   * @param {V} _v\r\n   * @return {V}\r\n   */\r\n  sub(_v) {\r\n    throw new Error('must be implemented in subclass')\r\n  }\r\n  /**\r\n   * @abstract\r\n   * @param {V} _v\r\n   * @return {V}\r\n   */\r\n  mult(_v) {\r\n    throw new Error('must be implemented in subclass')\r\n  }\r\n  /**\r\n   * @abstract\r\n   * @param {V} _v\r\n   * @return {number}\r\n   */\r\n  dot(_v) {\r\n    throw new Error('must be implemented in subclass')\r\n  }\r\n  /**\r\n   * @abstract\r\n   * @return {number[]}\r\n   */\r\n  toArray() {\r\n    throw new Error('must be implemented in subclass')\r\n  }\r\n  \r\n  get squareMag() {\r\n    /** @type {any} */\r\n    const t = this\r\n    return this.dot(t)\r\n  }\r\n  get mag() {\r\n    return Math.sqrt(this.squareMag)\r\n  }\r\n  get normalized() {\r\n    return this.scale(1 / this.mag)\r\n  }\r\n  get negate() {\r\n    return this.scale(-1)\r\n  }\r\n}", "import {Vector} from './abstractVector'\r\n\r\n/**\r\n * @typedef {import('../types').Uniform} Uniform\r\n */\r\n\r\n/**\r\n * @extends {Vector<V2>}\r\n * @implements {Uniform}\r\n */\r\nexport class V2 extends Vector {\r\n  /**\r\n   * @param {number} x\r\n   * @param {number} y\r\n   */\r\n  constructor(x, y) {\r\n    super()\r\n    this.x = x\r\n    this.y = y\r\n  }\r\n  /** @param {number} a */\r\n  scale(a) {\r\n    return new V2(a * this.x, a * this.y)\r\n  }\r\n  /** @param {V2} v */\r\n  add({x, y}) {\r\n    return new V2(this.x + x, this.y + y)\r\n  }\r\n  /** @param {V2} v */\r\n  sub({x, y}) {\r\n    return new V2(this.x - x, this.y - y)\r\n  }\r\n  /** @param {V2} v */\r\n  mult({x, y}) {\r\n    return new V2(this.x * x, this.y * y)\r\n  }\r\n  /** @param {V2} v */\r\n  dot({x, y}) {\r\n    return this.x * x + this.y * y\r\n  }\r\n  toArray() {\r\n    return [this.x, this.y]\r\n  }\r\n  \r\n  /**\r\n   * @param {WebGL2RenderingContext} gl\r\n   * @param {WebGLUniformLocation} location\r\n   */\r\n  setUniform(gl, location) {\r\n    gl.uniform2f(location, this.x, this.y)\r\n  }\r\n\r\n  static get zero() {\r\n    return new V2(0, 0)\r\n  }\r\n}\r\n\r\n/**\r\n * @extends {Vector<V3>}\r\n * @implements {Uniform}\r\n */\r\nexport class V3 extends Vector {\r\n  /**\r\n   * @param {number} x\r\n   * @param {number} y\r\n   * @param {number} z\r\n   */\r\n  constructor(x, y, z) {\r\n    super()\r\n    this.x = x\r\n    this.y = y\r\n    this.z = z\r\n  }\r\n  /** @param {number} a */\r\n  scale(a) {\r\n    return new V3(a * this.x, a * this.y, a * this.z)\r\n  }\r\n  /** @param {V3} v */\r\n  add({x, y, z}) {\r\n    return new V3(this.x + x, this.y + y, this.z + z)\r\n  }\r\n  /** @param {V3} v */\r\n  sub({x, y, z}) {\r\n    return new V3(this.x - x, this.y - y, this.z - z)\r\n  }\r\n  /** @param {V3} v */\r\n  mult({x, y, z}) {\r\n    return new V3(this.x * x, this.y * y, this.z * z)\r\n  }\r\n  /** @param {V3} v */\r\n  cross({x, y, z}) {\r\n    return new V3(this.y * z - this.z * y, this.z * x - this.x * z, this.x * y - this.y * x)\r\n  }\r\n  /** @param {V3} v */\r\n  dot({x, y, z}) {\r\n    return this.x * x + this.y * y + this.z * z\r\n  }\r\n  toArray() {\r\n    return [this.x, this.y, this.z]\r\n  }\r\n\r\n  /**\r\n   * @param {WebGL2RenderingContext} gl\r\n   * @param {WebGLUniformLocation} location\r\n   */\r\n  setUniform(gl, location) {\r\n    gl.uniform3f(location, this.x, this.y, this.z)\r\n  }\r\n  toV2() {\r\n    return new V2(this.x, this.y)\r\n  }\r\n  \r\n  static get zero() {\r\n    return new V3(0, 0, 0)\r\n  }\r\n  static get one() {\r\n    return new V3(1, 1, 1)\r\n  }\r\n  static get up() {\r\n    return new V3(0, 1, 0)\r\n  }\r\n  static get down() {\r\n    return new V3(0, -1, 0)\r\n  }\r\n  static get left() {\r\n    return new V3(1, 0, 0)\r\n  }\r\n  static get right() {\r\n    return new V3(-1, 0, 0)\r\n  }\r\n  static get forward() {\r\n    return new V3(0, 0, 1)\r\n  }\r\n  static get back() {\r\n    return new V3(0, 0, -1)\r\n  }\r\n  \r\n  /**\r\n   * @param {V3} v1\r\n   * @param {V3} v2\r\n   * @param {number} t\r\n   */\r\n  static lerp(v1, v2, t) {\r\n    return v1.add(v2.sub(v1).scale(t))\r\n  }\r\n\r\n  /**\r\n   * @param {V3} v1\r\n   * @param {V3} v2\r\n   */\r\n  static angle(v1, v2) {\r\n    return Math.acos(v1.dot(v2) / Math.sqrt(v1.squareMag * v2.squareMag))\r\n  }\r\n\r\n  /** @param {number} axis */\r\n  static getRotationAxis(axis) {\r\n    if (axis === 0)\r\n      return V3.right\r\n    if (axis === 1)\r\n      return V3.down\r\n    return V3.back\r\n  }\r\n}\r\n\r\n/**\r\n * @extends {Vector<V4>}\r\n * @implements {Uniform}\r\n */\r\nexport class V4 extends Vector {\r\n  /**\r\n   * @param {number} x\r\n   * @param {number} y\r\n   * @param {number} z\r\n   * @param {number} w\r\n   */\r\n  constructor(x, y, z, w) {\r\n    super()\r\n    this.x = x\r\n    this.y = y\r\n    this.z = z\r\n    this.w = w\r\n  }\r\n  /** @param {number} a */\r\n  scale(a) {\r\n    return new V4(a * this.x, a * this.y, a * this.z, a * this.w)\r\n  }\r\n  /** @param {V4} v */\r\n  add({x, y, z, w}) {\r\n    return new V4(this.x + x, this.y + y, this.z + z, this.w + w)\r\n  }\r\n  /** @param {V4} v */\r\n  sub({x, y, z, w}) {\r\n    return new V4(this.x - x, this.y - y, this.z - z, this.w - w)\r\n  }\r\n  /** @param {V4} v */\r\n  mult({x, y, z, w}) {\r\n    return new V4(this.x * x, this.y * y, this.z * z, this.w * w)\r\n  }\r\n  /** @param {V4} v */\r\n  dot({x, y, z, w}) {\r\n    return this.x * x + this.y * y + this.z * z + this.w * w\r\n  }\r\n  toV3() {\r\n    return new V3(this.x, this.y, this.z)\r\n  }\r\n  toArray() {\r\n    return [this.x, this.y, this.z, this.w]\r\n  }\r\n\r\n  /**\r\n   * @param {WebGL2RenderingContext} gl\r\n   * @param {WebGLUniformLocation} location\r\n   */\r\n  setUniform(gl, location) {\r\n    gl.uniform4f(location, this.x, this.y, this.z, this.w)\r\n  }\r\n}", "import {V4, V3} from './vector'\r\n\r\n\r\n/**\r\n * @typedef {import('../types').Uniform} Uniform\r\n * @implements {Uniform}\r\n */\r\nexport class M44 {\r\n\t/**\r\n\t * @param {V4} r1\r\n\t * @param {V4} r2\r\n\t * @param {V4} r3\r\n\t * @param {V4} r4\r\n\t */\r\n  constructor(r1, r2, r3, r4) {\r\n\t\tthis.r1 = r1\r\n\t\tthis.r2 = r2\r\n\t\tthis.r3 = r3\r\n\t\tthis.r4 = r4\r\n\t}\r\n\r\n\t/** @param {number} a */\r\n  scale(a) {\r\n    return new M44(this.r1.scale(a), this.r2.scale(a), this.r3.scale(a), this.r4.scale(a))\r\n  }\r\n  \r\n\t/** @param {M44} m */\r\n  add({r1, r2, r3, r4}) {\r\n\t\treturn new M44(this.r1.add(r1), this.r2.add(r2), this.r3.add(r3), this.r4.add(r4))\r\n  }\r\n  \r\n\t/** @param {M44} m */\r\n  sub({r1, r2, r3, r4}) {\r\n    return new M44(this.r1.sub(r1), this.r2.sub(r2), this.r3.sub(r3), this.r4.sub(r4))\r\n  }\r\n  \r\n\t/**\r\n\t * @overload\r\n\t * @param {M44} m\r\n\t * @return {M44}\r\n\t * \r\n\t * @overload\r\n\t * @param {V4} m\r\n\t * @return {V4}\r\n\t * \r\n\t * @param {M44 | V4} m\r\n\t */\r\n  mult(m) {\r\n    if ('x' in m) {\r\n      return new V4(\r\n        this.r1.dot(m),\r\n        this.r2.dot(m),\r\n        this.r3.dot(m),\r\n        this.r4.dot(m)\r\n      )\r\n    }\r\n    return new M44(\r\n      new V4(this.r1.dot(m.c1), this.r1.dot(m.c2), this.r1.dot(m.c3), this.r1.dot(m.c4)),\r\n      new V4(this.r2.dot(m.c1), this.r2.dot(m.c2), this.r2.dot(m.c3), this.r2.dot(m.c4)),\r\n      new V4(this.r3.dot(m.c1), this.r3.dot(m.c2), this.r3.dot(m.c3), this.r3.dot(m.c4)),\r\n      new V4(this.r4.dot(m.c1), this.r4.dot(m.c2), this.r4.dot(m.c3), this.r4.dot(m.c4))\r\n    )\r\n  }\r\n  toArray() {\r\n    return [...this.r1.toArray(), ...this.r2.toArray(), ...this.r3.toArray(), ...this.r4.toArray()]\r\n  }\r\n  static get identity() {\r\n    return new M44(\r\n      new V4(1, 0, 0, 0),\r\n      new V4(0, 1, 0, 0),\r\n      new V4(0, 0, 1, 0),\r\n      new V4(0, 0, 0, 1)\r\n    )\r\n  }\r\n\r\n\r\n  get c1() {\r\n    return new V4(this.r1.x, this.r2.x, this.r3.x, this.r4.x)\r\n  }\r\n  get c2() {\r\n    return new V4(this.r1.y, this.r2.y, this.r3.y, this.r4.y)\r\n  }\r\n  get c3() {\r\n    return new V4(this.r1.z, this.r2.z, this.r3.z, this.r4.z)\r\n  }\r\n  get c4() {\r\n    return new V4(this.r1.w, this.r2.w, this.r3.w, this.r4.w)\r\n  }\r\n\r\n\t/**\r\n\t * @param {WebGL2RenderingContext} gl\r\n\t * @param {WebGLUniformLocation} location\r\n\t */\r\n  setUniform(gl, location) {\r\n    const data = new Float32Array(this.toArray())\r\n    gl.uniformMatrix4fv(location, true, data)\r\n  }\r\n\r\n  get transpose() {\r\n    return new M44(this.c1, this.c2, this.c3, this.c4)\r\n  }\r\n\r\n  get inverse() {\r\n    const [i00, i01, i02, i03] = this.r1.toArray()\r\n    const [i10, i11, i12, i13] = this.r2.toArray()\r\n    const [i20, i21, i22, i23] = this.r3.toArray()\r\n    const [i30, i31, i32, i33] = this.r4.toArray()\r\n\r\n    const s0 = i00 * i11 - i10 * i01\r\n    const s1 = i00 * i12 - i10 * i02\r\n    const s2 = i00 * i13 - i10 * i03\r\n    const s3 = i01 * i12 - i11 * i02\r\n    const s4 = i01 * i13 - i11 * i03\r\n    const s5 = i02 * i13 - i12 * i03\r\n    const c5 = i22 * i33 - i32 * i23\r\n    const c4 = i21 * i33 - i31 * i23\r\n    const c3 = i21 * i32 - i31 * i22\r\n    const c2 = i20 * i33 - i30 * i23\r\n    const c1 = i20 * i32 - i30 * i22\r\n    const c0 = i20 * i31 - i30 * i21\r\n    const det = s0 * c5 - s1 * c4 + s2 * c3 + s3 * c2 - s4 * c1 + s5 * c0\r\n    const invDet = 1 / det\r\n    return new M44(\r\n      new V4(\r\n        (i11 * c5 - i12 * c4 + i13 * c3),\r\n        (-i01 * c5 + i02 * c4 - i03 * c3),\r\n        (i31 * s5 - i32 * s4 + i33 * s3),\r\n        (-i21 * s5 + i22 * s4 - i23 * s3)\r\n      ),\r\n      new V4(\r\n        (-i10 * c5 + i12 * c2 - i13 * c1),\r\n        (i00 * c5 - i02 * c2 + i03 * c1),\r\n        (-i30 * s5 + i32 * s2 - i33 * s1),\r\n        (i20 * s5 - i22 * s2 + i23 * s1)\r\n      ),\r\n      new V4(\r\n        (i10 * c4 - i11 * c2 + i13 * c0),\r\n        (-i00 * c4 + i01 * c2 - i03 * c0),\r\n        (i30 * s4 - i31 * s2 + i33 * s0),\r\n        (-i20 * s4 + i21 * s2 - i23 * s0)\r\n      ),\r\n      new V4(\r\n        (-i10 * c3 + i11 * c1 - i12 * c0),\r\n        (i00 * c3 - i01 * c1 + i02 * c0),\r\n        (-i30 * s3 + i31 * s1 - i32 * s0),\r\n        (i20 * s3 - i21 * s1 + i22 * s0)\r\n      )\r\n    ).scale(invDet)\r\n  }\r\n\r\n\t/**\r\n\t * @param {number} fovy\r\n\t * @param {number} aspect\r\n\t * @param {number} near\r\n\t * @param {number} far\r\n\t */\r\n  static perspective(fovy, aspect, near, far) {\r\n    const tanHalfFovy = Math.tan(fovy / 2)\r\n    const x = 1 / (aspect * tanHalfFovy)\r\n    const y = 1 / tanHalfFovy\r\n    const fpn = far + near\r\n    const fmn = far - near\r\n    const oon = .5 / near\r\n    const oof = .5 / far\r\n    const z = -fpn / fmn\r\n    const w = 1 / (oof - oon)\r\n    return new M44(\r\n      new V4(x,  0,  0,  0),\r\n      new V4(0,  y,  0,  0),\r\n      new V4(0,  0,  z,  w),\r\n      new V4(0,  0, -1,  0)\r\n    )\r\n  }\r\n  \r\n\t/**\r\n\t * @param {V3} eye\r\n\t * @param {V3} center\r\n\t * @param {V3} up\r\n\t */\r\n  static lookAt(eye, center, up) {\r\n    const za = center.sub(eye).normalized\r\n    const xa = za.cross(up).normalized\r\n    const ya = xa.cross(za)\r\n    const xd = -xa.dot(eye)\r\n    const yd = -ya.dot(eye)\r\n    const zd = za.dot(eye)\r\n    return new M44(\r\n      new V4( xa.x,  xa.y,  xa.z,  xd),\r\n      new V4( ya.x,  ya.y,  ya.z,  yd),\r\n      new V4(-za.x, -za.y, -za.z,  zd),\r\n      new V4(    0,     0,     0,   1)\r\n    )\r\n  }\r\n}", "import {V3, V4} from './vector'\r\nimport {M44} from './matrix'\r\n\r\nexport class Quaternion {\r\n  /**\r\n   * @param {number} real\r\n   * @param {V3} im\r\n   */\r\n  constructor(real, im) {\r\n    this.real = real\r\n    this.im = im\r\n  }\r\n  \r\n  /**\r\n   * @param {V3} axis\r\n   * @param {number} angle\r\n   * @param {boolean} [degree=true]\r\n   */\r\n  static fromAngle(axis, angle, degree = true) {\r\n    if (degree) {\r\n      angle *= Math.PI / 180\r\n    }\r\n    const half = angle / 2;\r\n    const real = Math.cos(half)\r\n    const im = axis.normalized.scale(Math.sin(half))\r\n    return new Quaternion(real, im)\r\n  }\r\n  get matrix() {\r\n    const {x, y, z} = this.im\r\n    const w = this.real\r\n    const xx = x * x\r\n    const yy = y * y\r\n    const zz = z * z\r\n    const xy = x * y\r\n    const xz = x * z\r\n    const xw = x * w\r\n    const yz = y * z\r\n    const yw = y * w\r\n    const zw = z * w\r\n    return new M44(\r\n      new V4(1 - 2 * (yy + zz), 2 * (xy - zw), 2 * (xz + yw), 0),\r\n      new V4(2 * (xy + zw), 1 - 2 * (xx + zz), 2 * (yz - xw), 0),\r\n      new V4(2 * (xz - yw), 2 * (yz + xw), 1 - 2 * (xx + yy), 0),\r\n      new V4(            0,             0,                 0, 1)\r\n    )\r\n  }\r\n  /** @param {Quaternion} q */\r\n  mult({real, im}) {\r\n    return new Quaternion(this.real * real - this.im.dot(im), this.im.cross(im).add(im.scale(this.real)).add(this.im.scale(real)))\r\n  }\r\n  /** @param {V3} v */\r\n  rotate(v) {\r\n    return new Quaternion(this.real, this.im.negate).mult(new Quaternion(0, v)).mult(this).im\r\n  }\r\n  \r\n  get conjugate() {\r\n    return new Quaternion(this.real, this.im.negate)\r\n  }\r\n  get mag() {\r\n    return Math.sqrt(this.real * this.real + this.im.squareMag)\r\n  }\r\n  \r\n  /** @param {number} n */\r\n  power(n) {\r\n    const {mag} = this\r\n    const phi = Math.acos(this.real / mag)\r\n    const unit = this.im.normalized\r\n    const scalar = Math.pow(mag, n)\r\n    return new Quaternion(scalar * Math.cos(phi * n), unit.scale(scalar * Math.sin(phi * n)))\r\n  }\r\n  \r\n  static get identity() {\r\n    return new Quaternion(1, V3.zero)\r\n  }\r\n  \r\n  /**\r\n   * @param {Quaternion} q1\r\n   * @param {Quaternion} q2\r\n   * @param {number} t\r\n   */\r\n  static slerp(q1, q2, t) {\r\n    return q1.mult(q1.conjugate.mult(q2).power(t))\r\n  }\r\n}", "export class Program {\r\n  /** @type {WebGLProgram} */\r\n  #program\r\n  /** @type {Map<string, WebGLUniformLocation>} */\r\n  #uniformMap\r\n  /** @type {string} */\r\n  #path\r\n  /** @type {WebGL2RenderingContext} */\r\n  #gl\r\n\r\n  /**\r\n   * @param {string} path\r\n   * @param {string} vertexShaderSource\r\n   * @param {string} fragmentShaderSource\r\n   * @param {WebGL2RenderingContext} gl\r\n   */\r\n  constructor(path, vertexShaderSource, fragmentShaderSource, gl) {\r\n    this.#path = path\r\n    this.#gl = gl\r\n    const vertexShader = this.#createShader(vertexShaderSource, this.#gl.VERTEX_SHADER, 'vertex')\r\n    const fragmentShader = this.#createShader(fragmentShaderSource, this.#gl.FRAGMENT_SHADER, 'fragment')\r\n\r\n    const p = this.#gl.createProgram()\r\n    \r\n    if (!p)\r\n      throw new Error('Fatal: webgl could not create program object!')\r\n\r\n    this.#program = p\r\n    this.#gl.attachShader(this.#program, vertexShader)\r\n    this.#gl.attachShader(this.#program, fragmentShader)\r\n    this.#gl.linkProgram(this.#program)\r\n    const success = this.#gl.getProgramParameter(this.#program, this.#gl.LINK_STATUS)\r\n    if (!success) {            \r\n      const info = this.#gl.getProgramInfoLog(this.#program)\r\n      this.#gl.deleteProgram(this.#program)\r\n      throw new Error(`Link Program: ${info}`)\r\n    }\r\n\r\n    const numUniforms = /** @type {number} */ (this.#gl.getProgramParameter(this.#program, this.#gl.ACTIVE_UNIFORMS))\r\n    const uniformIndices = [...Array(numUniforms).keys()]\r\n    const uniformNames = uniformIndices.map(index => {\r\n      const info = this.#gl.getActiveUniform(this.#program, index)\r\n      if (info == null) {\r\n        throw new Error('failed to get active uniform')\r\n      }\r\n      const location = this.#gl.getUniformLocation(this.#program, info.name)\r\n      if (location == null) {\r\n        throw new Error('failed to get uniform location')\r\n      }\r\n      return /** @type {[string, WebGLUniformLocation]} */ ([info.name, location])\r\n    })\r\n    this.#uniformMap = new Map(uniformNames)\r\n  }\r\n\r\n  /**\r\n   * @param {string} source\r\n   * @param {number} type\r\n   * @param {string} typeStr\r\n   * @returns {WebGLShader}\r\n   */\r\n  #createShader(source, type, typeStr) {\r\n    const shader = this.#gl.createShader(type)\r\n    if (!shader)\r\n      throw new Error('Fatal: webgl could not create shader object!')\r\n    this.#gl.shaderSource(shader, source)\r\n    this.#gl.compileShader(shader)\r\n    \r\n    const success = /** @type {boolean} */ (this.#gl.getShaderParameter(shader, this.#gl.COMPILE_STATUS))\r\n    if (success) {\r\n      return shader\r\n    }\r\n    \r\n    const info = this.#gl.getShaderInfoLog(shader)\r\n    this.#gl.deleteShader(shader)\r\n    throw new Error(`Compile '${this.#path}': ${typeStr}: ${info}`)\r\n  }\r\n\r\n  use() {\r\n    if (!this.#program) {\r\n      throw new Error('Fatal: program does not exists!')\r\n    }\r\n    this.#gl.useProgram(this.#program)\r\n  }\r\n\r\n  /**\r\n   * @param {string} name\r\n   * @param {import('../types').Uniform} u\r\n   */\r\n  uniform(name, u) {\r\n    const location = this.#uniformMap.get(name)\r\n    if (location == undefined) {\r\n      throw new Error(`Fatal: unkown name: ${name}`)\r\n    }\r\n    u.setUniform(this.#gl, location)\r\n  }\r\n}", "import {Quaternion} from '../math/quarternion'\r\nimport {V4} from '../math/vector'\r\n\r\n/**\r\n * @typedef {{transform: Transform<any, any>}} WithTransform\r\n * @typedef {import('../math/matrix').M44} M44\r\n * @typedef {import('../math/vector').V3} V3\r\n */\r\n\r\n/**\r\n * @template {WithTransform} TChild\r\n * @template {WithTransform | null} TParent\r\n */\r\nexport class Transform {\r\n  /** @type {M44} */\r\n  localTransform\r\n  /** @type {M44} */\r\n  globalTransform\r\n  \r\n  /** @type {TChild[]} */\r\n  children = []\r\n  \r\n  /**\r\n   * @param {V3} position\r\n   * @param {Quaternion} rotation\r\n   * @param {TParent} parent\r\n   */\r\n  constructor(position, rotation, parent) {\r\n    /** @protected */\r\n    this._position = position\r\n    /** @protected */\r\n    this._rotation = rotation\r\n    this.parent = parent\r\n    this.setTransforms()\r\n  }\r\n  \r\n  /** @protected */\r\n  setTransforms() {\r\n    const localTransform = Transform.getLocalTransform(this._position, this._rotation)\r\n    this.localTransform = localTransform\r\n    \r\n    if (!this.parent) {\r\n      this.globalTransform = localTransform\r\n    } else {\r\n      const parentTransform = this.parent.transform.globalTransform\r\n      this.globalTransform = parentTransform.mult(localTransform)\r\n    }\r\n    \r\n    this.children.forEach(child => child.transform.setTransforms())\r\n  }\r\n  \r\n  /** @param {V3} v */\r\n  apply({x, y, z}) {\r\n    return this.globalTransform.mult(new V4(x, y, z, 1)).toV3()\r\n  }\r\n  \r\n  /**\r\n   * @param {V3} axis\r\n   * @param {number} angle\r\n   */\r\n  rotate(axis, angle) {\r\n    this.rotation = this._rotation.mult(Quaternion.fromAngle(this._rotation.rotate(axis), angle))\r\n  }\r\n  \r\n  /** @param {V3} value */\r\n  set position(value) {\r\n    this._position = value\r\n    this.setTransforms()\r\n  }\r\n  /** @param {Quaternion} value */\r\n  set rotation(value) {\r\n    this._rotation = value\r\n    this.setTransforms()\r\n  }\r\n  \r\n  get position() {\r\n    return this._position\r\n  }\r\n  get rotation() {\r\n    return this._rotation\r\n  }\r\n\r\n  /**\r\n   * @param {V3} position\r\n   * @param {Quaternion} rotation \r\n   * @returns {M44} \r\n   */\r\n  static getLocalTransform({x, y, z}, rotation) {\r\n    const transform = rotation.matrix\r\n    transform.r1.w = x\r\n    transform.r2.w = y\r\n    transform.r3.w = z\r\n    return transform\r\n  }\r\n}", "import {V3, V4} from '../math/vector'\r\nimport {Quaternion} from '../math/quarternion'\r\n\r\nimport {Program} from './program'\r\nimport {Transform} from './transform'\r\nimport {Cubie} from './cubie'\r\n\r\n/**\r\n * @extends {Transform<any, Cubie>}\r\n*/\r\nexport class FaceletTransform extends Transform {\r\n  /** @type {V3} */\r\n  left\r\n  /** @type {V3} */\r\n  top\r\n  /** @type {V3} */\r\n  normal\r\n  /** @type {V3} */\r\n  topLeft\r\n  /** @type {V3} */\r\n  bottomRight\r\n\r\n  /**\r\n   * @param {V3} position\r\n   * @param {Quaternion} rotation\r\n   * @param {Cubie} parent\r\n   */\r\n  constructor(position, rotation, parent) {\r\n    super(position, rotation, parent)\r\n    this.setTransforms()\r\n  }\r\n\r\n  /** @protected */\r\n  setTransforms() {\r\n    super.setTransforms()\r\n\r\n    const rotationTransform = this.globalTransform.inverse.transpose\r\n    \r\n    this.left = rotationTransform.mult(new V4(0, 0, -1, 1)).toV3().normalized\r\n    this.top = rotationTransform.mult(new V4(0, -1, 0, 1)).toV3().normalized\r\n    this.normal = rotationTransform.mult(new V4(-1, 0, 0, 1)).toV3().normalized\r\n\r\n    this.topLeft = this.globalTransform.mult(new V4(0, .5, .5, 1)).toV3()\r\n    this.bottomRight = this.topLeft.add(this.left).add(this.top)\r\n  }\r\n}\r\n\r\nexport class Facelet {\r\n  hovering = false\r\n  /** @type {V3} */\r\n  #hoveringMult\r\n\r\n  /**\r\n   * @param {FaceletTransform} transform\r\n   * @param {number} side\r\n   * @param {number[]} uvs\r\n   * @param {V3} hoveringMult\r\n   */\r\n  constructor(transform, side, uvs, hoveringMult) {\r\n    this.transform = transform\r\n    this.side = side\r\n    this.uvs = uvs\r\n    this.#hoveringMult = hoveringMult\r\n  }\r\n\r\n  /**\r\n   * @param {Program} program\r\n   * @param {WebGL2RenderingContext} gl\r\n   * @param {WebGLBuffer} uvsVbo\r\n   */\r\n  render(program, gl, uvsVbo) {\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, uvsVbo)\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.uvs), gl.STATIC_DRAW)\r\n    gl.vertexAttribPointer(1, 2, gl.FLOAT, false, 8, 0)\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, null)\r\n\r\n    program.uniform('model', this.transform.globalTransform)\r\n    program.uniform('colorMult', this.hovering ? this.#hoveringMult : V3.one)\r\n    gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_BYTE, 0)\r\n  }\r\n}\r\n\r\nexport class InsideFacelet {\r\n  /** @param {Transform<any, Cubie>} transform */\r\n  constructor(transform) {\r\n    this.transform = transform\r\n  }\r\n\r\n  /**\r\n   * @param {Program} program\r\n   * @param {WebGL2RenderingContext} gl\r\n   */\r\n  render(program, gl) {\r\n    program.uniform('model', this.transform.globalTransform)\r\n    program.uniform('colorMult', V3.zero)\r\n    gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_BYTE, 0)\r\n  }\r\n}", "import {V3} from '../math/vector'\r\nimport {Quaternion} from '../math/quarternion'\r\n\r\nimport {Facelet, FaceletTransform, InsideFacelet} from './facelet'\r\nimport {Transform} from './transform'\r\n\r\n\r\nconst positionForSide = [\r\n  V3.right,\r\n  V3.left,\r\n  V3.down,\r\n  V3.up,\r\n  V3.back,\r\n  V3.forward\r\n].map(v => v.scale(0.5))\r\n\r\nconst rotationForSide = [\r\n  Quaternion.identity,\r\n  Quaternion.identity,\r\n  Quaternion.fromAngle(V3.back, 90),\r\n  Quaternion.fromAngle(V3.back, 90),\r\n  Quaternion.fromAngle(V3.back, 90).mult(Quaternion.fromAngle(V3.down, 90)),\r\n  Quaternion.fromAngle(V3.back, 90).mult(Quaternion.fromAngle(V3.down, 90))\r\n]\r\n\r\n/**\r\n * @param {number} side\r\n * @param {number} index\r\n * @returns {boolean}\r\n */\r\nexport const isInside = (side, index) => {\r\n  const axis = Math.floor(side / 2)\r\n  const invert = side % 2\r\n  const coordinate = Math.floor(index / Math.pow(3, axis)) % 3\r\n  return coordinate === 1\r\n    || coordinate === 0 && invert === 1\r\n    || coordinate === 2 && invert === 0\r\n}\r\n\r\n/**\r\n * @param {number} index\r\n * @returns {[x: number, y: number, z: number]}\r\n */\r\nexport const indexToPosition = index => {\r\n  const x = Math.floor(index / 1) % 3\r\n  const y = Math.floor(index / 3) % 3\r\n  const z = Math.floor(index / 9) % 3\r\n  return [x, y, z]\r\n}\r\n\r\n/**\r\n * @param {[x: number, y: number, z: number]} pos\r\n * @param {number} side\r\n * @param {number[][][]} uvs\r\n * @returns {number[]}\r\n */\r\nexport const positionToUvs = (pos, side, uvs) => {\r\n  const axis = Math.floor(side / 2)\r\n  /** @type {number[]} */\r\n  const uvCoords = []\r\n  for (let i = 0; i < 3; i++) {\r\n    if (i !== axis) {\r\n      uvCoords.push(pos[i])\r\n    }\r\n  }\r\n  const sideIndex = uvCoords[0] + uvCoords[1] * 3\r\n  return uvs[side][sideIndex]\r\n}\r\n\r\n\r\nexport class Cubie {\r\n  /** @type {Facelet[]} */\r\n  facelets = []\r\n  /** @type {Transform<Facelet | InsideFacelet, import('./rubiks').Rubiks>} */\r\n  transform\r\n\r\n  /**\r\n   * @param {number} index\r\n   * @param {number[][][]} uvs\r\n   * @param {V3[]} hoveringColors\r\n   * @param {import('./rubiks').Rubiks} parent\r\n   */\r\n  constructor(index, uvs, hoveringColors, parent) {\r\n    this.index = index\r\n    const pos = indexToPosition(index)\r\n    const position = new V3(pos[0], pos[1], pos[2]).sub(V3.one)\r\n\r\n    this.transform = new Transform(position, Quaternion.identity, parent)\r\n    for (let side = 0; side < 6; side++) {\r\n      const inside = isInside(side, this.index)\r\n      const position = positionForSide[side]\r\n      const rotation = rotationForSide[side]\r\n\r\n      if (inside) {\r\n        const transform = new Transform(position, rotation, this)\r\n        const facelet = new InsideFacelet(transform)\r\n        this.transform.children.push(facelet)\r\n        continue\r\n      }\r\n\r\n      const uv = positionToUvs(pos, side, uvs)\r\n      const transform = new FaceletTransform(position, rotation, this)\r\n      const facelet = new Facelet(transform, side, uv, hoveringColors[side])\r\n      this.transform.children.push(facelet)\r\n      this.facelets.push(facelet)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {number} side\r\n   * @returns {Facelet}\r\n   */\r\n  getFaceletOfSide(side) {\r\n    return /** @type {Facelet} */ (this.facelets.find(facelet => facelet.side === side))\r\n  }\r\n\r\n  /**\r\n   * @param {import('./program').Program} program\r\n   * @param {WebGL2RenderingContext} gl\r\n   * @param {WebGLBuffer} uvsVbo\r\n   */\r\n  render(program, gl, uvsVbo) {\r\n    this.transform.children.forEach(child => child.render.call(child, program, gl, uvsVbo))\r\n  }\r\n}"],
  "mappings": ";;;;;;;;;AAIO,IAAM,SAAN,MAAa;AAAA;AAAA;AAAA;AAAA;AAAA,EAKlB,MAAM,IAAI;AACR,UAAM,IAAI,MAAM,iCAAiC;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,IAAI;AACN,UAAM,IAAI,MAAM,iCAAiC;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,IAAI;AACN,UAAM,IAAI,MAAM,iCAAiC;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,KAAK,IAAI;AACP,UAAM,IAAI,MAAM,iCAAiC;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,IAAI,IAAI;AACN,UAAM,IAAI,MAAM,iCAAiC;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,UAAU;AACR,UAAM,IAAI,MAAM,iCAAiC;AAAA,EACnD;AAAA,EAEA,IAAI,YAAY;AAEd,UAAM,IAAI;AACV,WAAO,KAAK,IAAI,CAAC;AAAA,EACnB;AAAA,EACA,IAAI,MAAM;AACR,WAAO,KAAK,KAAK,KAAK,SAAS;AAAA,EACjC;AAAA,EACA,IAAI,aAAa;AACf,WAAO,KAAK,MAAM,IAAI,KAAK,GAAG;AAAA,EAChC;AAAA,EACA,IAAI,SAAS;AACX,WAAO,KAAK,MAAM,EAAE;AAAA,EACtB;AACF;;;ACxDO,IAAM,KAAN,MAAM,YAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAK7B,YAAY,GAAG,GAAG;AAChB,UAAM;AACN,SAAK,IAAI;AACT,SAAK,IAAI;AAAA,EACX;AAAA;AAAA,EAEA,MAAM,GAAG;AACP,WAAO,IAAI,IAAG,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC;AAAA,EACtC;AAAA;AAAA,EAEA,IAAI,EAAC,GAAG,EAAC,GAAG;AACV,WAAO,IAAI,IAAG,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC;AAAA,EACtC;AAAA;AAAA,EAEA,IAAI,EAAC,GAAG,EAAC,GAAG;AACV,WAAO,IAAI,IAAG,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC;AAAA,EACtC;AAAA;AAAA,EAEA,KAAK,EAAC,GAAG,EAAC,GAAG;AACX,WAAO,IAAI,IAAG,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC;AAAA,EACtC;AAAA;AAAA,EAEA,IAAI,EAAC,GAAG,EAAC,GAAG;AACV,WAAO,KAAK,IAAI,IAAI,KAAK,IAAI;AAAA,EAC/B;AAAA,EACA,UAAU;AACR,WAAO,CAAC,KAAK,GAAG,KAAK,CAAC;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,WAAW,IAAI,UAAU;AACvB,OAAG,UAAU,UAAU,KAAK,GAAG,KAAK,CAAC;AAAA,EACvC;AAAA,EAEA,WAAW,OAAO;AAChB,WAAO,IAAI,IAAG,GAAG,CAAC;AAAA,EACpB;AACF;AAMO,IAAM,KAAN,MAAM,YAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAM7B,YAAY,GAAG,GAAG,GAAG;AACnB,UAAM;AACN,SAAK,IAAI;AACT,SAAK,IAAI;AACT,SAAK,IAAI;AAAA,EACX;AAAA;AAAA,EAEA,MAAM,GAAG;AACP,WAAO,IAAI,IAAG,IAAI,KAAK,GAAG,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC;AAAA,EAClD;AAAA;AAAA,EAEA,IAAI,EAAC,GAAG,GAAG,EAAC,GAAG;AACb,WAAO,IAAI,IAAG,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC;AAAA,EAClD;AAAA;AAAA,EAEA,IAAI,EAAC,GAAG,GAAG,EAAC,GAAG;AACb,WAAO,IAAI,IAAG,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC;AAAA,EAClD;AAAA;AAAA,EAEA,KAAK,EAAC,GAAG,GAAG,EAAC,GAAG;AACd,WAAO,IAAI,IAAG,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC;AAAA,EAClD;AAAA;AAAA,EAEA,MAAM,EAAC,GAAG,GAAG,EAAC,GAAG;AACf,WAAO,IAAI,IAAG,KAAK,IAAI,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,IAAI,KAAK,IAAI,CAAC;AAAA,EACzF;AAAA;AAAA,EAEA,IAAI,EAAC,GAAG,GAAG,EAAC,GAAG;AACb,WAAO,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI;AAAA,EAC5C;AAAA,EACA,UAAU;AACR,WAAO,CAAC,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;AAAA,EAChC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,WAAW,IAAI,UAAU;AACvB,OAAG,UAAU,UAAU,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;AAAA,EAC/C;AAAA,EACA,OAAO;AACL,WAAO,IAAI,GAAG,KAAK,GAAG,KAAK,CAAC;AAAA,EAC9B;AAAA,EAEA,WAAW,OAAO;AAChB,WAAO,IAAI,IAAG,GAAG,GAAG,CAAC;AAAA,EACvB;AAAA,EACA,WAAW,MAAM;AACf,WAAO,IAAI,IAAG,GAAG,GAAG,CAAC;AAAA,EACvB;AAAA,EACA,WAAW,KAAK;AACd,WAAO,IAAI,IAAG,GAAG,GAAG,CAAC;AAAA,EACvB;AAAA,EACA,WAAW,OAAO;AAChB,WAAO,IAAI,IAAG,GAAG,IAAI,CAAC;AAAA,EACxB;AAAA,EACA,WAAW,OAAO;AAChB,WAAO,IAAI,IAAG,GAAG,GAAG,CAAC;AAAA,EACvB;AAAA,EACA,WAAW,QAAQ;AACjB,WAAO,IAAI,IAAG,IAAI,GAAG,CAAC;AAAA,EACxB;AAAA,EACA,WAAW,UAAU;AACnB,WAAO,IAAI,IAAG,GAAG,GAAG,CAAC;AAAA,EACvB;AAAA,EACA,WAAW,OAAO;AAChB,WAAO,IAAI,IAAG,GAAG,GAAG,EAAE;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAO,KAAK,IAAI,IAAI,GAAG;AACrB,WAAO,GAAG,IAAI,GAAG,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC;AAAA,EACnC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,OAAO,MAAM,IAAI,IAAI;AACnB,WAAO,KAAK,KAAK,GAAG,IAAI,EAAE,IAAI,KAAK,KAAK,GAAG,YAAY,GAAG,SAAS,CAAC;AAAA,EACtE;AAAA;AAAA,EAGA,OAAO,gBAAgB,MAAM;AAC3B,QAAI,SAAS;AACX,aAAO,IAAG;AACZ,QAAI,SAAS;AACX,aAAO,IAAG;AACZ,WAAO,IAAG;AAAA,EACZ;AACF;AAMO,IAAM,KAAN,MAAM,YAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO7B,YAAY,GAAG,GAAG,GAAG,GAAG;AACtB,UAAM;AACN,SAAK,IAAI;AACT,SAAK,IAAI;AACT,SAAK,IAAI;AACT,SAAK,IAAI;AAAA,EACX;AAAA;AAAA,EAEA,MAAM,GAAG;AACP,WAAO,IAAI,IAAG,IAAI,KAAK,GAAG,IAAI,KAAK,GAAG,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC;AAAA,EAC9D;AAAA;AAAA,EAEA,IAAI,EAAC,GAAG,GAAG,GAAG,EAAC,GAAG;AAChB,WAAO,IAAI,IAAG,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC;AAAA,EAC9D;AAAA;AAAA,EAEA,IAAI,EAAC,GAAG,GAAG,GAAG,EAAC,GAAG;AAChB,WAAO,IAAI,IAAG,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC;AAAA,EAC9D;AAAA;AAAA,EAEA,KAAK,EAAC,GAAG,GAAG,GAAG,EAAC,GAAG;AACjB,WAAO,IAAI,IAAG,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC;AAAA,EAC9D;AAAA;AAAA,EAEA,IAAI,EAAC,GAAG,GAAG,GAAG,EAAC,GAAG;AAChB,WAAO,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI;AAAA,EACzD;AAAA,EACA,OAAO;AACL,WAAO,IAAI,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;AAAA,EACtC;AAAA,EACA,UAAU;AACR,WAAO,CAAC,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;AAAA,EACxC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,WAAW,IAAI,UAAU;AACvB,OAAG,UAAU,UAAU,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;AAAA,EACvD;AACF;;;ACjNO,IAAM,MAAN,MAAM,KAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOf,YAAY,IAAI,IAAI,IAAI,IAAI;AAC5B,SAAK,KAAK;AACV,SAAK,KAAK;AACV,SAAK,KAAK;AACV,SAAK,KAAK;AAAA,EACX;AAAA;AAAA,EAGC,MAAM,GAAG;AACP,WAAO,IAAI,KAAI,KAAK,GAAG,MAAM,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC,CAAC;AAAA,EACvF;AAAA;AAAA,EAGA,IAAI,EAAC,IAAI,IAAI,IAAI,GAAE,GAAG;AACtB,WAAO,IAAI,KAAI,KAAK,GAAG,IAAI,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,CAAC;AAAA,EACjF;AAAA;AAAA,EAGA,IAAI,EAAC,IAAI,IAAI,IAAI,GAAE,GAAG;AACpB,WAAO,IAAI,KAAI,KAAK,GAAG,IAAI,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,CAAC;AAAA,EACnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAaA,KAAK,GAAG;AACN,QAAI,OAAO,GAAG;AACZ,aAAO,IAAI;AAAA,QACT,KAAK,GAAG,IAAI,CAAC;AAAA,QACb,KAAK,GAAG,IAAI,CAAC;AAAA,QACb,KAAK,GAAG,IAAI,CAAC;AAAA,QACb,KAAK,GAAG,IAAI,CAAC;AAAA,MACf;AAAA,IACF;AACA,WAAO,IAAI;AAAA,MACT,IAAI,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,CAAC;AAAA,MACjF,IAAI,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,CAAC;AAAA,MACjF,IAAI,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,CAAC;AAAA,MACjF,IAAI,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,GAAG,KAAK,GAAG,IAAI,EAAE,EAAE,CAAC;AAAA,IACnF;AAAA,EACF;AAAA,EACA,UAAU;AACR,WAAO,CAAC,GAAG,KAAK,GAAG,QAAQ,GAAG,GAAG,KAAK,GAAG,QAAQ,GAAG,GAAG,KAAK,GAAG,QAAQ,GAAG,GAAG,KAAK,GAAG,QAAQ,CAAC;AAAA,EAChG;AAAA,EACA,WAAW,WAAW;AACpB,WAAO,IAAI;AAAA,MACT,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC;AAAA,MACjB,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC;AAAA,MACjB,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC;AAAA,MACjB,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC;AAAA,IACnB;AAAA,EACF;AAAA,EAGA,IAAI,KAAK;AACP,WAAO,IAAI,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,CAAC;AAAA,EAC1D;AAAA,EACA,IAAI,KAAK;AACP,WAAO,IAAI,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,CAAC;AAAA,EAC1D;AAAA,EACA,IAAI,KAAK;AACP,WAAO,IAAI,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,CAAC;AAAA,EAC1D;AAAA,EACA,IAAI,KAAK;AACP,WAAO,IAAI,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,GAAG,KAAK,GAAG,CAAC;AAAA,EAC1D;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,WAAW,IAAI,UAAU;AACvB,UAAM,OAAO,IAAI,aAAa,KAAK,QAAQ,CAAC;AAC5C,OAAG,iBAAiB,UAAU,MAAM,IAAI;AAAA,EAC1C;AAAA,EAEA,IAAI,YAAY;AACd,WAAO,IAAI,KAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,EAAE;AAAA,EACnD;AAAA,EAEA,IAAI,UAAU;AACZ,UAAM,CAAC,KAAK,KAAK,KAAK,GAAG,IAAI,KAAK,GAAG,QAAQ;AAC7C,UAAM,CAAC,KAAK,KAAK,KAAK,GAAG,IAAI,KAAK,GAAG,QAAQ;AAC7C,UAAM,CAAC,KAAK,KAAK,KAAK,GAAG,IAAI,KAAK,GAAG,QAAQ;AAC7C,UAAM,CAAC,KAAK,KAAK,KAAK,GAAG,IAAI,KAAK,GAAG,QAAQ;AAE7C,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,KAAK,MAAM,MAAM,MAAM;AAC7B,UAAM,MAAM,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK;AACnE,UAAM,SAAS,IAAI;AACnB,WAAO,IAAI;AAAA,MACT,IAAI;AAAA,QACD,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC5B,CAAC,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC7B,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC5B,CAAC,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,MAChC;AAAA,MACA,IAAI;AAAA,QACD,CAAC,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC7B,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC5B,CAAC,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC7B,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,MAC/B;AAAA,MACA,IAAI;AAAA,QACD,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC5B,CAAC,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC7B,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC5B,CAAC,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,MAChC;AAAA,MACA,IAAI;AAAA,QACD,CAAC,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC7B,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC5B,CAAC,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,QAC7B,MAAM,KAAK,MAAM,KAAK,MAAM;AAAA,MAC/B;AAAA,IACF,EAAE,MAAM,MAAM;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,OAAO,YAAY,MAAM,QAAQ,MAAM,KAAK;AAC1C,UAAM,cAAc,KAAK,IAAI,OAAO,CAAC;AACrC,UAAM,IAAI,KAAK,SAAS;AACxB,UAAM,IAAI,IAAI;AACd,UAAM,MAAM,MAAM;AAClB,UAAM,MAAM,MAAM;AAClB,UAAM,MAAM,MAAK;AACjB,UAAM,MAAM,MAAK;AACjB,UAAM,IAAI,CAAC,MAAM;AACjB,UAAM,IAAI,KAAK,MAAM;AACrB,WAAO,IAAI;AAAA,MACT,IAAI,GAAG,GAAI,GAAI,GAAI,CAAC;AAAA,MACpB,IAAI,GAAG,GAAI,GAAI,GAAI,CAAC;AAAA,MACpB,IAAI,GAAG,GAAI,GAAI,GAAI,CAAC;AAAA,MACpB,IAAI,GAAG,GAAI,GAAG,IAAK,CAAC;AAAA,IACtB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAO,OAAO,KAAK,QAAQ,IAAI;AAC7B,UAAM,KAAK,OAAO,IAAI,GAAG,EAAE;AAC3B,UAAM,KAAK,GAAG,MAAM,EAAE,EAAE;AACxB,UAAM,KAAK,GAAG,MAAM,EAAE;AACtB,UAAM,KAAK,CAAC,GAAG,IAAI,GAAG;AACtB,UAAM,KAAK,CAAC,GAAG,IAAI,GAAG;AACtB,UAAM,KAAK,GAAG,IAAI,GAAG;AACrB,WAAO,IAAI;AAAA,MACT,IAAI,GAAI,GAAG,GAAI,GAAG,GAAI,GAAG,GAAI,EAAE;AAAA,MAC/B,IAAI,GAAI,GAAG,GAAI,GAAG,GAAI,GAAG,GAAI,EAAE;AAAA,MAC/B,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAI,EAAE;AAAA,MAC/B,IAAI,GAAO,GAAO,GAAO,GAAK,CAAC;AAAA,IACjC;AAAA,EACF;AACF;;;AC9LO,IAAM,aAAN,MAAM,YAAW;AAAA;AAAA;AAAA;AAAA;AAAA,EAKtB,YAAY,MAAM,IAAI;AACpB,SAAK,OAAO;AACZ,SAAK,KAAK;AAAA,EACZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAO,UAAU,MAAM,OAAO,SAAS,MAAM;AAC3C,QAAI,QAAQ;AACV,eAAS,KAAK,KAAK;AAAA,IACrB;AACA,UAAM,OAAO,QAAQ;AACrB,UAAM,OAAO,KAAK,IAAI,IAAI;AAC1B,UAAM,KAAK,KAAK,WAAW,MAAM,KAAK,IAAI,IAAI,CAAC;AAC/C,WAAO,IAAI,YAAW,MAAM,EAAE;AAAA,EAChC;AAAA,EACA,IAAI,SAAS;AACX,UAAM,EAAC,GAAG,GAAG,EAAC,IAAI,KAAK;AACvB,UAAM,IAAI,KAAK;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,UAAM,KAAK,IAAI;AACf,WAAO,IAAI;AAAA,MACT,IAAI,GAAG,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,CAAC;AAAA,MACzD,IAAI,GAAG,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,CAAC;AAAA,MACzD,IAAI,GAAG,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK,CAAC;AAAA,MACzD,IAAI,GAAe,GAAe,GAAmB,GAAG,CAAC;AAAA,IAC3D;AAAA,EACF;AAAA;AAAA,EAEA,KAAK,EAAC,MAAM,GAAE,GAAG;AACf,WAAO,IAAI,YAAW,KAAK,OAAO,OAAO,KAAK,GAAG,IAAI,EAAE,GAAG,KAAK,GAAG,MAAM,EAAE,EAAE,IAAI,GAAG,MAAM,KAAK,IAAI,CAAC,EAAE,IAAI,KAAK,GAAG,MAAM,IAAI,CAAC,CAAC;AAAA,EAC/H;AAAA;AAAA,EAEA,OAAO,GAAG;AACR,WAAO,IAAI,YAAW,KAAK,MAAM,KAAK,GAAG,MAAM,EAAE,KAAK,IAAI,YAAW,GAAG,CAAC,CAAC,EAAE,KAAK,IAAI,EAAE;AAAA,EACzF;AAAA,EAEA,IAAI,YAAY;AACd,WAAO,IAAI,YAAW,KAAK,MAAM,KAAK,GAAG,MAAM;AAAA,EACjD;AAAA,EACA,IAAI,MAAM;AACR,WAAO,KAAK,KAAK,KAAK,OAAO,KAAK,OAAO,KAAK,GAAG,SAAS;AAAA,EAC5D;AAAA;AAAA,EAGA,MAAM,GAAG;AACP,UAAM,EAAC,IAAG,IAAI;AACd,UAAM,MAAM,KAAK,KAAK,KAAK,OAAO,GAAG;AACrC,UAAM,OAAO,KAAK,GAAG;AACrB,UAAM,SAAS,KAAK,IAAI,KAAK,CAAC;AAC9B,WAAO,IAAI,YAAW,SAAS,KAAK,IAAI,MAAM,CAAC,GAAG,KAAK,MAAM,SAAS,KAAK,IAAI,MAAM,CAAC,CAAC,CAAC;AAAA,EAC1F;AAAA,EAEA,WAAW,WAAW;AACpB,WAAO,IAAI,YAAW,GAAG,GAAG,IAAI;AAAA,EAClC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAO,MAAM,IAAI,IAAI,GAAG;AACtB,WAAO,GAAG,KAAK,GAAG,UAAU,KAAK,EAAE,EAAE,MAAM,CAAC,CAAC;AAAA,EAC/C;AACF;;;ACnFA;AAAO,IAAM,UAAN,MAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgBnB,YAAY,MAAM,oBAAoB,sBAAsB,IAAI;AAhB3D;AAEL;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AASE,uBAAK,OAAQ;AACb,uBAAK,KAAM;AACX,UAAM,eAAe,sBAAK,qCAAL,WAAmB,oBAAoB,mBAAK,KAAI,eAAe;AACpF,UAAM,iBAAiB,sBAAK,qCAAL,WAAmB,sBAAsB,mBAAK,KAAI,iBAAiB;AAE1F,UAAM,IAAI,mBAAK,KAAI,cAAc;AAEjC,QAAI,CAAC;AACH,YAAM,IAAI,MAAM,+CAA+C;AAEjE,uBAAK,UAAW;AAChB,uBAAK,KAAI,aAAa,mBAAK,WAAU,YAAY;AACjD,uBAAK,KAAI,aAAa,mBAAK,WAAU,cAAc;AACnD,uBAAK,KAAI,YAAY,mBAAK,SAAQ;AAClC,UAAM,UAAU,mBAAK,KAAI,oBAAoB,mBAAK,WAAU,mBAAK,KAAI,WAAW;AAChF,QAAI,CAAC,SAAS;AACZ,YAAM,OAAO,mBAAK,KAAI,kBAAkB,mBAAK,SAAQ;AACrD,yBAAK,KAAI,cAAc,mBAAK,SAAQ;AACpC,YAAM,IAAI,MAAM,iBAAiB,IAAI,EAAE;AAAA,IACzC;AAEA,UAAM;AAAA;AAAA,MAAqC,mBAAK,KAAI,oBAAoB,mBAAK,WAAU,mBAAK,KAAI,eAAe;AAAA;AAC/G,UAAM,iBAAiB,CAAC,GAAG,MAAM,WAAW,EAAE,KAAK,CAAC;AACpD,UAAM,eAAe,eAAe,IAAI,WAAS;AAC/C,YAAM,OAAO,mBAAK,KAAI,iBAAiB,mBAAK,WAAU,KAAK;AAC3D,UAAI,QAAQ,MAAM;AAChB,cAAM,IAAI,MAAM,8BAA8B;AAAA,MAChD;AACA,YAAM,WAAW,mBAAK,KAAI,mBAAmB,mBAAK,WAAU,KAAK,IAAI;AACrE,UAAI,YAAY,MAAM;AACpB,cAAM,IAAI,MAAM,gCAAgC;AAAA,MAClD;AACA;AAAA;AAAA,QAAsD,CAAC,KAAK,MAAM,QAAQ;AAAA;AAAA,IAC5E,CAAC;AACD,uBAAK,aAAc,IAAI,IAAI,YAAY;AAAA,EACzC;AAAA,EAyBA,MAAM;AACJ,QAAI,CAAC,mBAAK,WAAU;AAClB,YAAM,IAAI,MAAM,iCAAiC;AAAA,IACnD;AACA,uBAAK,KAAI,WAAW,mBAAK,SAAQ;AAAA,EACnC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,QAAQ,MAAM,GAAG;AACf,UAAM,WAAW,mBAAK,aAAY,IAAI,IAAI;AAC1C,QAAI,YAAY,QAAW;AACzB,YAAM,IAAI,MAAM,uBAAuB,IAAI,EAAE;AAAA,IAC/C;AACA,MAAE,WAAW,mBAAK,MAAK,QAAQ;AAAA,EACjC;AACF;AA7FE;AAEA;AAEA;AAEA;AARK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4DL,kBAAa,SAAC,QAAQ,MAAM,SAAS;AACnC,QAAM,SAAS,mBAAK,KAAI,aAAa,IAAI;AACzC,MAAI,CAAC;AACH,UAAM,IAAI,MAAM,8CAA8C;AAChE,qBAAK,KAAI,aAAa,QAAQ,MAAM;AACpC,qBAAK,KAAI,cAAc,MAAM;AAE7B,QAAM;AAAA;AAAA,IAAkC,mBAAK,KAAI,mBAAmB,QAAQ,mBAAK,KAAI,cAAc;AAAA;AACnG,MAAI,SAAS;AACX,WAAO;AAAA,EACT;AAEA,QAAM,OAAO,mBAAK,KAAI,iBAAiB,MAAM;AAC7C,qBAAK,KAAI,aAAa,MAAM;AAC5B,QAAM,IAAI,MAAM,YAAY,mBAAK,MAAK,MAAM,OAAO,KAAK,IAAI,EAAE;AAChE;;;AC9DK,IAAM,YAAN,MAAM,WAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAcrB,YAAY,UAAU,UAAU,QAAQ;AAZxC;AAAA;AAEA;AAAA;AAGA;AAAA,oCAAW,CAAC;AASV,SAAK,YAAY;AAEjB,SAAK,YAAY;AACjB,SAAK,SAAS;AACd,SAAK,cAAc;AAAA,EACrB;AAAA;AAAA,EAGA,gBAAgB;AACd,UAAM,iBAAiB,WAAU,kBAAkB,KAAK,WAAW,KAAK,SAAS;AACjF,SAAK,iBAAiB;AAEtB,QAAI,CAAC,KAAK,QAAQ;AAChB,WAAK,kBAAkB;AAAA,IACzB,OAAO;AACL,YAAM,kBAAkB,KAAK,OAAO,UAAU;AAC9C,WAAK,kBAAkB,gBAAgB,KAAK,cAAc;AAAA,IAC5D;AAEA,SAAK,SAAS,QAAQ,WAAS,MAAM,UAAU,cAAc,CAAC;AAAA,EAChE;AAAA;AAAA,EAGA,MAAM,EAAC,GAAG,GAAG,EAAC,GAAG;AACf,WAAO,KAAK,gBAAgB,KAAK,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,EAAE,KAAK;AAAA,EAC5D;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,OAAO,MAAM,OAAO;AAClB,SAAK,WAAW,KAAK,UAAU,KAAK,WAAW,UAAU,KAAK,UAAU,OAAO,IAAI,GAAG,KAAK,CAAC;AAAA,EAC9F;AAAA;AAAA,EAGA,IAAI,SAAS,OAAO;AAClB,SAAK,YAAY;AACjB,SAAK,cAAc;AAAA,EACrB;AAAA;AAAA,EAEA,IAAI,SAAS,OAAO;AAClB,SAAK,YAAY;AACjB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,IAAI,WAAW;AACb,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK;AAAA,EACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAO,kBAAkB,EAAC,GAAG,GAAG,EAAC,GAAG,UAAU;AAC5C,UAAM,YAAY,SAAS;AAC3B,cAAU,GAAG,IAAI;AACjB,cAAU,GAAG,IAAI;AACjB,cAAU,GAAG,IAAI;AACjB,WAAO;AAAA,EACT;AACF;;;ACpFO,IAAM,mBAAN,cAA+B,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAiB9C,YAAY,UAAU,UAAU,QAAQ;AACtC,UAAM,UAAU,UAAU,MAAM;AAhBlC;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AASE,SAAK,cAAc;AAAA,EACrB;AAAA;AAAA,EAGA,gBAAgB;AACd,UAAM,cAAc;AAEpB,UAAM,oBAAoB,KAAK,gBAAgB,QAAQ;AAEvD,SAAK,OAAO,kBAAkB,KAAK,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE;AAC/D,SAAK,MAAM,kBAAkB,KAAK,IAAI,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC,EAAE,KAAK,EAAE;AAC9D,SAAK,SAAS,kBAAkB,KAAK,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,KAAK,EAAE;AAEjE,SAAK,UAAU,KAAK,gBAAgB,KAAK,IAAI,GAAG,GAAG,KAAI,KAAI,CAAC,CAAC,EAAE,KAAK;AACpE,SAAK,cAAc,KAAK,QAAQ,IAAI,KAAK,IAAI,EAAE,IAAI,KAAK,GAAG;AAAA,EAC7D;AACF;AA7CA;AA+CO,IAAM,UAAN,MAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWnB,YAAY,WAAW,MAAM,KAAK,cAAc;AAVhD,oCAAW;AAEX;AAAA;AASE,SAAK,YAAY;AACjB,SAAK,OAAO;AACZ,SAAK,MAAM;AACX,uBAAK,eAAgB;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAO,SAAS,IAAI,QAAQ;AAC1B,OAAG,WAAW,GAAG,cAAc,MAAM;AACrC,OAAG,WAAW,GAAG,cAAc,IAAI,aAAa,KAAK,GAAG,GAAG,GAAG,WAAW;AACzE,OAAG,oBAAoB,GAAG,GAAG,GAAG,OAAO,OAAO,GAAG,CAAC;AAClD,OAAG,WAAW,GAAG,cAAc,IAAI;AAEnC,YAAQ,QAAQ,SAAS,KAAK,UAAU,eAAe;AACvD,YAAQ,QAAQ,aAAa,KAAK,WAAW,mBAAK,iBAAgB,GAAG,GAAG;AACxE,OAAG,aAAa,GAAG,WAAW,GAAG,GAAG,eAAe,CAAC;AAAA,EACtD;AACF;AA9BE;AAgCK,IAAM,gBAAN,MAAoB;AAAA;AAAA,EAEzB,YAAY,WAAW;AACrB,SAAK,YAAY;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,OAAO,SAAS,IAAI;AAClB,YAAQ,QAAQ,SAAS,KAAK,UAAU,eAAe;AACvD,YAAQ,QAAQ,aAAa,GAAG,IAAI;AACpC,OAAG,aAAa,GAAG,WAAW,GAAG,GAAG,eAAe,CAAC;AAAA,EACtD;AACF;;;AC1FA,IAAM,kBAAkB;AAAA,EACtB,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG;AACL,EAAE,IAAI,OAAK,EAAE,MAAM,GAAG,CAAC;AAEvB,IAAM,kBAAkB;AAAA,EACtB,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW,UAAU,GAAG,MAAM,EAAE;AAAA,EAChC,WAAW,UAAU,GAAG,MAAM,EAAE;AAAA,EAChC,WAAW,UAAU,GAAG,MAAM,EAAE,EAAE,KAAK,WAAW,UAAU,GAAG,MAAM,EAAE,CAAC;AAAA,EACxE,WAAW,UAAU,GAAG,MAAM,EAAE,EAAE,KAAK,WAAW,UAAU,GAAG,MAAM,EAAE,CAAC;AAC1E;AAOO,IAAM,WAAW,CAAC,MAAM,UAAU;AACvC,QAAM,OAAO,KAAK,MAAM,OAAO,CAAC;AAChC,QAAM,SAAS,OAAO;AACtB,QAAM,aAAa,KAAK,MAAM,QAAQ,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI;AAC3D,SAAO,eAAe,KACjB,eAAe,KAAK,WAAW,KAC/B,eAAe,KAAK,WAAW;AACtC;AAMO,IAAM,kBAAkB,WAAS;AACtC,QAAM,IAAI,KAAK,MAAM,QAAQ,CAAC,IAAI;AAClC,QAAM,IAAI,KAAK,MAAM,QAAQ,CAAC,IAAI;AAClC,QAAM,IAAI,KAAK,MAAM,QAAQ,CAAC,IAAI;AAClC,SAAO,CAAC,GAAG,GAAG,CAAC;AACjB;AAQO,IAAM,gBAAgB,CAAC,KAAK,MAAM,QAAQ;AAC/C,QAAM,OAAO,KAAK,MAAM,OAAO,CAAC;AAEhC,QAAM,WAAW,CAAC;AAClB,WAAS,IAAI,GAAG,IAAI,GAAG,KAAK;AAC1B,QAAI,MAAM,MAAM;AACd,eAAS,KAAK,IAAI,CAAC,CAAC;AAAA,IACtB;AAAA,EACF;AACA,QAAM,YAAY,SAAS,CAAC,IAAI,SAAS,CAAC,IAAI;AAC9C,SAAO,IAAI,IAAI,EAAE,SAAS;AAC5B;AAGO,IAAM,QAAN,MAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYjB,YAAY,OAAO,KAAK,gBAAgB,QAAQ;AAVhD;AAAA,oCAAW,CAAC;AAEZ;AAAA;AASE,SAAK,QAAQ;AACb,UAAM,MAAM,gBAAgB,KAAK;AACjC,UAAM,WAAW,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,IAAI,GAAG,GAAG;AAE1D,SAAK,YAAY,IAAI,UAAU,UAAU,WAAW,UAAU,MAAM;AACpE,aAAS,OAAO,GAAG,OAAO,GAAG,QAAQ;AACnC,YAAM,SAAS,SAAS,MAAM,KAAK,KAAK;AACxC,YAAMA,YAAW,gBAAgB,IAAI;AACrC,YAAM,WAAW,gBAAgB,IAAI;AAErC,UAAI,QAAQ;AACV,cAAMC,aAAY,IAAI,UAAUD,WAAU,UAAU,IAAI;AACxD,cAAME,WAAU,IAAI,cAAcD,UAAS;AAC3C,aAAK,UAAU,SAAS,KAAKC,QAAO;AACpC;AAAA,MACF;AAEA,YAAM,KAAK,cAAc,KAAK,MAAM,GAAG;AACvC,YAAM,YAAY,IAAI,iBAAiBF,WAAU,UAAU,IAAI;AAC/D,YAAM,UAAU,IAAI,QAAQ,WAAW,MAAM,IAAI,eAAe,IAAI,CAAC;AACrE,WAAK,UAAU,SAAS,KAAK,OAAO;AACpC,WAAK,SAAS,KAAK,OAAO;AAAA,IAC5B;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,iBAAiB,MAAM;AACrB;AAAA;AAAA,MAA+B,KAAK,SAAS,KAAK,aAAW,QAAQ,SAAS,IAAI;AAAA;AAAA,EACpF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAO,SAAS,IAAI,QAAQ;AAC1B,SAAK,UAAU,SAAS,QAAQ,WAAS,MAAM,OAAO,KAAK,OAAO,SAAS,IAAI,MAAM,CAAC;AAAA,EACxF;AACF;",
  "names": ["position", "transform", "facelet"]
}
